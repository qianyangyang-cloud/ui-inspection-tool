{"ast":null,"code":"import _objectSpread from\"C:/Users/\\u94B1\\u9633/ui-inspection-tool-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useCallback}from'react';import html2canvas from'html2canvas';import'./index.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[url,setUrl]=useState('');const[currentUrl,setCurrentUrl]=useState('');const[designImage,setDesignImage]=useState(null);const[imageOpacity,setImageOpacity]=useState(0.5);const[imageSize,setImageSize]=useState({width:400,height:300});const[imagePosition,setImagePosition]=useState({x:0,y:0});const[imageScale,setImageScale]=useState(1);const[imageTransformOrigin,setImageTransformOrigin]=useState('center center');const[isDragging,setIsDragging]=useState(false);const[isResizing,setIsResizing]=useState(false);const[dragStart,setDragStart]=useState(null);const[resizeStart,setResizeStart]=useState(null);const[isSelecting,setIsSelecting]=useState(false);const[selection,setSelection]=useState(null);const[selectionStart,setSelectionStart]=useState(null);const[issues,setIssues]=useState([]);const[showModal,setShowModal]=useState(false);const[modalScreenshot,setModalScreenshot]=useState(null);const[currentIssue,setCurrentIssue]=useState({description:'',suggestion:''});const[editingIssueId,setEditingIssueId]=useState(null);const[designSize,setDesignSize]=useState({width:1440,height:900});const previewRef=useRef();const fileInputRef=useRef();const iframeRef=useRef();// 常见Web端设计尺寸\nconst designSizePresets=[{name:'1440×900 (主流)',width:1440,height:900},{name:'1920×1080 (桌面)',width:1920,height:1080},{name:'1366×768 (笔记本)',width:1366,height:768},{name:'1280×720 (小屏)',width:1280,height:720},{name:'1600×900 (宽屏)',width:1600,height:900}];const loadUrl=()=>{if(url.trim()){setCurrentUrl(url.trim());}};// 切换设计尺寸\nconst handleDesignSizeChange=event=>{const selectedIndex=event.target.value;const selectedPreset=designSizePresets[selectedIndex];setDesignSize({width:selectedPreset.width,height:selectedPreset.height});};const handleImageUpload=event=>{const file=event.target.files[0];if(file){const reader=new FileReader();reader.onload=e=>{const img=new Image();img.onload=()=>{setDesignImage(e.target.result);// 设置初始尺寸\nconst maxWidth=500;const maxHeight=400;let width=img.width;let height=img.height;// 如果图片太大，按比例缩小\nif(width>maxWidth||height>maxHeight){const scaleX=maxWidth/width;const scaleY=maxHeight/height;const scale=Math.min(scaleX,scaleY);width=Math.round(width*scale);height=Math.round(height*scale);}setImageSize({width,height});setImagePosition({x:100,y:100});};img.src=e.target.result;};reader.readAsDataURL(file);}};const triggerImageUpload=()=>{fileInputRef.current.click();};const removeDesignImage=()=>{setDesignImage(null);setImagePosition({x:0,y:0});setImageSize({width:400,height:300});setImageScale(1);setImageTransformOrigin('center center');if(fileInputRef.current){fileInputRef.current.value='';}};const handleImageMouseDown=e=>{// 检查是否点击在resize handle上\nif(e.target.classList.contains('resize-handle')||e.target.closest('.resize-handle')){return;// 避免和缩放冲突\n}// 确保点击的是图片本身或图片容器\nif(!e.target.classList.contains('design-image')&&!e.target.classList.contains('design-overlay')){return;}e.preventDefault();e.stopPropagation();// 添加更严格的状态检查\nif(isResizing||isSelecting){return;}setIsDragging(true);setDragStart({x:e.clientX-imagePosition.x,y:e.clientY-imagePosition.y});};const handleResizeMouseDown=(e,direction)=>{e.preventDefault();e.stopPropagation();// 添加更严格的状态检查\nif(isDragging||isSelecting||isResizing){return;}setIsResizing(true);// 设置transform-origin根据方向\nlet origin='center center';switch(direction){case'nw':origin='bottom right';break;case'ne':origin='bottom left';break;case'sw':origin='top right';break;case'se':origin='top left';break;case'n':origin='bottom center';break;case's':origin='top center';break;case'w':origin='right center';break;case'e':origin='left center';break;}setImageTransformOrigin(origin);setResizeStart({x:e.clientX,y:e.clientY,direction:direction,startScale:imageScale});};const handleMouseMove=useCallback(e=>{// 直接处理拖拽\nif(isDragging&&dragStart){const newX=e.clientX-dragStart.x;const newY=e.clientY-dragStart.y;setImagePosition({x:newX,y:newY});return;}// 直接处理选择\nif(isSelecting&&selectionStart){var _previewRef$current;const rect=(_previewRef$current=previewRef.current)===null||_previewRef$current===void 0?void 0:_previewRef$current.getBoundingClientRect();if(rect){const currentX=e.clientX-rect.left;const currentY=e.clientY-rect.top;setSelection({left:Math.min(selectionStart.x,currentX),top:Math.min(selectionStart.y,currentY),width:Math.abs(currentX-selectionStart.x),height:Math.abs(currentY-selectionStart.y)});}return;}// 使用transform缩放处理\nif(isResizing&&resizeStart){const deltaX=e.clientX-resizeStart.x;const deltaY=e.clientY-resizeStart.y;// 根据拖拽方向计算缩放增量\nlet scaleChange=0;const sensitivity=200;switch(resizeStart.direction){case'se':// 右下角\nscaleChange=Math.max(deltaX,deltaY)/sensitivity;break;case'nw':// 左上角\nscaleChange=-Math.max(-deltaX,-deltaY)/sensitivity;break;case'ne':// 右上角\nscaleChange=Math.max(deltaX,-deltaY)/sensitivity;break;case'sw':// 左下角\nscaleChange=Math.max(-deltaX,deltaY)/sensitivity;break;case'e':// 右边\nscaleChange=deltaX/sensitivity;break;case'w':// 左边\nscaleChange=-deltaX/sensitivity;break;case's':// 下边\nscaleChange=deltaY/sensitivity;break;case'n':// 上边\nscaleChange=-deltaY/sensitivity;break;}// 计算新的缩放值\nconst newScale=Math.max(0.1,Math.min(5,resizeStart.startScale+scaleChange));setImageScale(newScale);}},[isDragging,dragStart,isResizing,resizeStart,isSelecting,selectionStart]);const handleMouseUp=useCallback(async()=>{// 保存当前状态\nconst wasDragging=isDragging;const wasResizing=isResizing;const wasSelecting=isSelecting;// 立即清理所有状态，防止状态残留\nsetIsDragging(false);setIsResizing(false);setDragStart(null);setResizeStart(null);if(wasResizing){// 缩放结束后重置transform-origin\nsetTimeout(()=>setImageTransformOrigin('center center'),50);}if(isSelecting&&selection&&selection.width>10&&selection.height>10){setIsSelecting(false);try{const canvas=await html2canvas(previewRef.current,{useCORS:true,allowTaint:true,scale:1});const screenshot=canvas.toDataURL('image/png');setModalScreenshot(screenshot);setShowModal(true);setCurrentIssue({description:'',suggestion:''});setEditingIssueId(null);}catch(error){console.error('截图失败:',error);alert('截图失败，请重试');}}},[isSelecting,selection]);React.useEffect(()=>{if(isDragging||isResizing||isSelecting){const handleGlobalMouseMove=e=>{handleMouseMove(e);};const handleGlobalMouseUp=e=>{handleMouseUp(e);};// 添加全局事件监听，包括window事件\ndocument.addEventListener('mousemove',handleGlobalMouseMove);document.addEventListener('mouseup',handleGlobalMouseUp);window.addEventListener('blur',handleGlobalMouseUp);// 窗口失焦时清理\ndocument.addEventListener('mouseleave',handleGlobalMouseUp);// 鼠标离开文档时清理\nreturn()=>{document.removeEventListener('mousemove',handleGlobalMouseMove);document.removeEventListener('mouseup',handleGlobalMouseUp);window.removeEventListener('blur',handleGlobalMouseUp);document.removeEventListener('mouseleave',handleGlobalMouseUp);};}},[isDragging,isResizing,isSelecting,handleMouseMove,handleMouseUp]);const startSelection=()=>{setIsSelecting(true);setSelection(null);};const cancelSelection=()=>{setIsSelecting(false);setSelection(null);setSelectionStart(null);};const handlePreviewMouseDown=e=>{if(isSelecting){const rect=previewRef.current.getBoundingClientRect();setSelectionStart({x:e.clientX-rect.left,y:e.clientY-rect.top});}};const saveIssue=()=>{if(currentIssue.description.trim()||currentIssue.suggestion.trim()){const newIssue={id:editingIssueId||Date.now().toString(),screenshot:modalScreenshot,description:currentIssue.description,suggestion:currentIssue.suggestion,status:'未验收'};if(editingIssueId){setIssues(issues.map(issue=>issue.id===editingIssueId?newIssue:issue));}else{setIssues([...issues,newIssue]);}}setShowModal(false);setSelection(null);setSelectionStart(null);setModalScreenshot(null);setCurrentIssue({description:'',suggestion:''});setEditingIssueId(null);};const editIssue=issue=>{setCurrentIssue({description:issue.description,suggestion:issue.suggestion});setModalScreenshot(issue.screenshot);setEditingIssueId(issue.id);setShowModal(true);};const deleteIssue=issueId=>{if(window.confirm('确定要删除这个问题吗？')){setIssues(issues.filter(issue=>issue.id!==issueId));}};// 将图片压缩为小尺寸缩略图\nconst compressImage=function(base64){let maxWidth=arguments.length>1&&arguments[1]!==undefined?arguments[1]:150;let maxHeight=arguments.length>2&&arguments[2]!==undefined?arguments[2]:100;let quality=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0.8;return new Promise(resolve=>{const canvas=document.createElement('canvas');const ctx=canvas.getContext('2d');const img=new Image();img.onload=()=>{// 计算压缩后的尺寸\nlet{width,height}=img;const ratio=Math.min(maxWidth/width,maxHeight/height);width=Math.round(width*ratio);height=Math.round(height*ratio);canvas.width=width;canvas.height=height;// 绘制压缩图片\nctx.drawImage(img,0,0,width,height);// 转为较低质量的base64\nconst compressedBase64=canvas.toDataURL('image/jpeg',quality);resolve(compressedBase64);};img.src=base64;});};const exportToReport=()=>{if(issues.length===0){alert('没有问题记录可以导出');return;}try{// 直接使用原始图片，不压缩\nlet html=\"\\n        <html>\\n        <head>\\n          <meta charset=\\\"utf-8\\\">\\n          <style>\\n            body { \\n              font-family: 'Microsoft YaHei', Arial, sans-serif; \\n              margin: 40px;\\n              line-height: 1.6;\\n            }\\n            .issue-item {\\n              margin-bottom: 50px;\\n              page-break-inside: avoid;\\n              border: 1px solid #ddd;\\n              border-radius: 8px;\\n              padding: 25px;\\n              background-color: #fafafa;\\n            }\\n            .issue-header {\\n              background-color: #4472C4;\\n              color: white;\\n              padding: 18px 25px;\\n              margin: -25px -25px 30px -25px;\\n              border-radius: 7px 7px 0 0;\\n              font-size: 42px;\\n              font-weight: bold;\\n              text-align: center;\\n            }\\n            .screenshot {\\n              max-width: 600px;\\n              height: auto;\\n              border: 2px solid #ccc;\\n              border-radius: 4px;\\n              display: block;\\n              margin: 20px auto;\\n              box-shadow: 0 2px 8px rgba(0,0,0,0.1);\\n            }\\n            .info-section {\\n              margin-top: 25px;\\n              background-color: #f8f9fa;\\n              padding: 15px;\\n              border-radius: 5px;\\n            }\\n            .info-label {\\n              font-weight: bold;\\n              color: #333;\\n              margin-bottom: 15px;\\n              font-size: 32px;\\n            }\\n            .info-content {\\n              background-color: white;\\n              padding: 25px;\\n              border: 2px solid #ddd;\\n              border-radius: 6px;\\n              margin-bottom: 30px;\\n              min-height: 80px;\\n              font-size: 28px;\\n              line-height: 2.0;\\n            }\\n          </style>\\n        </head>\\n        <body>\\n      \";issues.forEach((issue,index)=>{const status=issue.status||'未修改';html+=\"\\n          <div class=\\\"issue-item\\\">\\n            <div class=\\\"issue-header\\\">\\n              \\u95EE\\u9898 \".concat(index+1,\"\\n            </div>\\n            \\n            <div style=\\\"text-align: center;\\\">\\n              <img class=\\\"screenshot\\\" src=\\\"\").concat(issue.screenshot,\"\\\" alt=\\\"\\u95EE\\u9898\").concat(index+1,\"\\u622A\\u56FE\\\" />\\n            </div>\\n            \\n            <div class=\\\"info-section\\\">\\n              <div class=\\\"info-label\\\">\\u95EE\\u9898\\u63CF\\u8FF0\\uFF1A</div>\\n              <div class=\\\"info-content\\\">\").concat(issue.description||'无描述',\"</div>\\n              \\n              <div class=\\\"info-label\\\">\\u4FEE\\u6539\\u5EFA\\u8BAE\\uFF1A</div>\\n              <div class=\\\"info-content\\\">\").concat(issue.suggestion||'无建议',\"</div>\\n              \\n              <div class=\\\"info-label\\\">\\u9A8C\\u6536\\u72B6\\u6001\\uFF1A</div>\\n              <div class=\\\"info-content\\\">\\u672A\\u9A8C\\u6536</div>\\n            </div>\\n          </div>\\n        \");});html+=\"\\n        </body>\\n        </html>\\n      \";// 创建Blob并下载为.doc文件（Word兼容的HTML格式）\nconst blob=new Blob([html],{type:'application/msword;charset=utf-8'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"UI\\u8D70\\u67E5\\u62A5\\u544A_\".concat(new Date().toISOString().slice(0,10),\".doc\");document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);}catch(error){console.error('导出Excel失败:',error);alert('导出Excel失败，请重试：'+error.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-bar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"url-input\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u524D\\u7AEF\\u6D4B\\u8BD5\\u9875\\u9762\\u7684URL\\u5730\\u5740...\",value:url,onChange:e=>setUrl(e.target.value),onKeyPress:e=>e.key==='Enter'&&loadUrl()}),/*#__PURE__*/_jsx(\"button\",{className:\"load-button\",onClick:loadUrl,children:\"\\u52A0\\u8F7D\\u9875\\u9762\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"preview-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"preview-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u8BBE\\u8BA1\\u5C3A\\u5BF8:\"}),/*#__PURE__*/_jsx(\"select\",{className:\"design-size-selector\",onChange:handleDesignSizeChange,defaultValue:0,children:designSizePresets.map((preset,index)=>/*#__PURE__*/_jsx(\"option\",{value:index,children:preset.name},index))})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:fileInputRef,className:\"file-input\",accept:\"image/*\",onChange:handleImageUpload}),/*#__PURE__*/_jsx(\"button\",{className:\"upload-button\",onClick:triggerImageUpload,children:\"\\u4E0A\\u4F20\\u8BBE\\u8BA1\\u56FE\"}),/*#__PURE__*/_jsx(\"button\",{className:\"upload-button\",onClick:isSelecting?cancelSelection:startSelection,style:{backgroundColor:isSelecting?'#dc3545':'#ffc107',color:isSelecting?'white':'#212529'},children:isSelecting?'取消框选':'开始框选'}),designImage&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"upload-button\",onClick:removeDesignImage,style:{backgroundColor:'#dc3545'},children:\"\\u5220\\u9664\\u8BBE\\u8BA1\\u56FE\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u900F\\u660E\\u5EA6:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",className:\"control-slider\",min:\"0\",max:\"1\",step:\"0.1\",value:imageOpacity,onChange:e=>setImageOpacity(parseFloat(e.target.value))}),/*#__PURE__*/_jsxs(\"span\",{children:[Math.round(imageOpacity*100),\"%\"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"preview-container\",id:\"previewArea\",ref:previewRef,onMouseDown:handlePreviewMouseDown,children:/*#__PURE__*/_jsxs(\"div\",{className:\"iframe-wrapper\",id:\"frameWrapper\",style:{width:designSize.width,height:designSize.height},children:[currentUrl&&/*#__PURE__*/_jsx(\"iframe\",{ref:iframeRef,className:\"preview-iframe\",src:currentUrl,title:\"\\u7F51\\u9875\\u9884\\u89C8\",sandbox:\"allow-same-origin allow-scripts allow-forms\",style:{width:designSize.width,height:designSize.height}}),designImage&&/*#__PURE__*/_jsxs(\"div\",{className:\"design-overlay \".concat(isDragging?'dragging':'',\" \").concat(isResizing?'resizing':''),style:{left:imagePosition.x,top:imagePosition.y,width:imageSize.width,height:imageSize.height,opacity:imageOpacity,position:'absolute',transform:\"scale(\".concat(imageScale,\")\"),transformOrigin:imageTransformOrigin,transition:isResizing?'none':'transform 0.1s ease'},onMouseDown:handleImageMouseDown,children:[/*#__PURE__*/_jsx(\"img\",{className:\"design-image\",src:designImage,alt:\"\\u8BBE\\u8BA1\\u56FE\",draggable:false,style:{width:'100%',height:'100%',objectFit:'contain'// 保持宽高比\n}}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle nw\",onMouseDown:e=>handleResizeMouseDown(e,'nw'),title:\"\\u62D6\\u62FD\\u8C03\\u6574\\u5927\\u5C0F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle n\",onMouseDown:e=>handleResizeMouseDown(e,'n'),title:\"\\u62D6\\u62FD\\u8C03\\u6574\\u5927\\u5C0F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle ne\",onMouseDown:e=>handleResizeMouseDown(e,'ne'),title:\"\\u62D6\\u62FD\\u8C03\\u6574\\u5927\\u5C0F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle e\",onMouseDown:e=>handleResizeMouseDown(e,'e'),title:\"\\u62D6\\u62FD\\u8C03\\u6574\\u5927\\u5C0F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle se\",onMouseDown:e=>handleResizeMouseDown(e,'se'),title:\"\\u62D6\\u62FD\\u8C03\\u6574\\u5927\\u5C0F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle s\",onMouseDown:e=>handleResizeMouseDown(e,'s'),title:\"\\u62D6\\u62FD\\u8C03\\u6574\\u5927\\u5C0F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle sw\",onMouseDown:e=>handleResizeMouseDown(e,'sw'),title:\"\\u62D6\\u62FD\\u8C03\\u6574\\u5927\\u5C0F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle w\",onMouseDown:e=>handleResizeMouseDown(e,'w'),title:\"\\u62D6\\u62FD\\u8C03\\u6574\\u5927\\u5C0F\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"selection-overlay \".concat(isSelecting?'selecting':''),children:selection&&/*#__PURE__*/_jsx(\"div\",{className:\"selection-box\",style:{left:selection.left,top:selection.top,width:selection.width,height:selection.height}})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"issues-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"issues-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"issues-title\",children:[\"\\u95EE\\u9898\\u5217\\u8868 (\",issues.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"export-button\",onClick:exportToReport,disabled:issues.length===0,children:\"\\u5BFC\\u51FA\\u8D70\\u67E5\\u62A5\\u544A\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"issues-list\",children:issues.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',color:'#666',marginTop:'50px'},children:[\"\\u6682\\u65E0\\u95EE\\u9898\\u8BB0\\u5F55\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:\"\\u4E0A\\u4F20\\u8BBE\\u8BA1\\u56FE\\u540E\\uFF0C\\u70B9\\u51FB\\\"\\u5F00\\u59CB\\u6846\\u9009\\\"\\u6765\\u6807\\u8BB0\\u95EE\\u9898\\u533A\\u57DF\"})]}):issues.map(issue=>/*#__PURE__*/_jsxs(\"div\",{className:\"issue-item\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"issue-screenshot\",src:issue.screenshot,alt:\"\\u95EE\\u9898\\u622A\\u56FE\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"issue-description\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"issue-label\",children:\"\\u95EE\\u9898\\u63CF\\u8FF0:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"issue-text\",children:issue.description||'无描述'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"issue-suggestion\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"issue-label\",children:\"\\u4FEE\\u6539\\u5EFA\\u8BAE:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"issue-text\",children:issue.suggestion||'无建议'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"issue-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"edit-button\",onClick:()=>editIssue(issue),children:\"\\u7F16\\u8F91\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-button\",onClick:()=>deleteIssue(issue.id),children:\"\\u5220\\u9664\"})]})]},issue.id))})]})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"modal-title\",children:editingIssueId?'编辑问题':'添加问题'}),/*#__PURE__*/_jsx(\"img\",{className:\"modal-screenshot\",src:modalScreenshot,alt:\"\\u622A\\u56FE\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u95EE\\u9898\\u63CF\\u8FF0\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-textarea\",value:currentIssue.description,onChange:e=>setCurrentIssue(_objectSpread(_objectSpread({},currentIssue),{},{description:e.target.value})),placeholder:\"\\u8BF7\\u5177\\u4F53\\u63CF\\u8FF0\\u53D1\\u73B0\\u7684\\u95EE\\u9898\\uFF0C\\u5982\\uFF1A\\u6309\\u94AE\\u989C\\u8272\\u4E0D\\u5BF9\\u3001\\u6587\\u5B57\\u5927\\u5C0F\\u4E0D\\u7B26\\u5408\\u8BBE\\u8BA1\\u7A3F\\u7B49\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-placeholder\",children:\"\\u63D0\\u793A\\uFF1A\\u8BF7\\u8BE6\\u7EC6\\u63CF\\u8FF0\\u95EE\\u9898\\uFF0C\\u4FBF\\u4E8E\\u5F00\\u53D1\\u4EBA\\u5458\\u7406\\u89E3\\u548C\\u4FEE\\u6539\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u4FEE\\u6539\\u5EFA\\u8BAE\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-textarea\",value:currentIssue.suggestion,onChange:e=>setCurrentIssue(_objectSpread(_objectSpread({},currentIssue),{},{suggestion:e.target.value})),placeholder:\"\\u8BF7\\u63D0\\u4F9B\\u5177\\u4F53\\u7684\\u4FEE\\u6539\\u5EFA\\u8BAE\\uFF0C\\u5982\\uFF1A\\u989C\\u8272\\u6539\\u4E3A#FF0000\\u3001\\u5B57\\u4F53\\u5927\\u5C0F\\u6539\\u4E3A16px\\u7B49\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-placeholder\",children:\"\\u63D0\\u793A\\uFF1A\\u8BF7\\u63D0\\u4F9B\\u5177\\u4F53\\u7684\\u6570\\u503C\\u548C\\u53C2\\u6570\\uFF0C\\u4FBF\\u4E8E\\u5F00\\u53D1\\u4EBA\\u5458\\u7CBE\\u786E\\u4FEE\\u6539\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"modal-button secondary\",onClick:()=>{setShowModal(false);setSelection(null);setSelectionStart(null);setCurrentIssue({description:'',suggestion:''});setEditingIssueId(null);},children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-button primary\",onClick:saveIssue,children:editingIssueId?'保存修改':'添加问题'})]})]})})]});}export default App;","map":{"version":3,"names":["React","useState","useRef","useCallback","html2canvas","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","url","setUrl","currentUrl","setCurrentUrl","designImage","setDesignImage","imageOpacity","setImageOpacity","imageSize","setImageSize","width","height","imagePosition","setImagePosition","x","y","imageScale","setImageScale","imageTransformOrigin","setImageTransformOrigin","isDragging","setIsDragging","isResizing","setIsResizing","dragStart","setDragStart","resizeStart","setResizeStart","isSelecting","setIsSelecting","selection","setSelection","selectionStart","setSelectionStart","issues","setIssues","showModal","setShowModal","modalScreenshot","setModalScreenshot","currentIssue","setCurrentIssue","description","suggestion","editingIssueId","setEditingIssueId","designSize","setDesignSize","previewRef","fileInputRef","iframeRef","designSizePresets","name","loadUrl","trim","handleDesignSizeChange","event","selectedIndex","target","value","selectedPreset","handleImageUpload","file","files","reader","FileReader","onload","e","img","Image","result","maxWidth","maxHeight","scaleX","scaleY","scale","Math","min","round","src","readAsDataURL","triggerImageUpload","current","click","removeDesignImage","handleImageMouseDown","classList","contains","closest","preventDefault","stopPropagation","clientX","clientY","handleResizeMouseDown","direction","origin","startScale","handleMouseMove","newX","newY","_previewRef$current","rect","getBoundingClientRect","currentX","left","currentY","top","abs","deltaX","deltaY","scaleChange","sensitivity","max","newScale","handleMouseUp","wasDragging","wasResizing","wasSelecting","setTimeout","canvas","useCORS","allowTaint","screenshot","toDataURL","error","console","alert","useEffect","handleGlobalMouseMove","handleGlobalMouseUp","document","addEventListener","window","removeEventListener","startSelection","cancelSelection","handlePreviewMouseDown","saveIssue","newIssue","id","Date","now","toString","status","map","issue","editIssue","deleteIssue","issueId","confirm","filter","compressImage","base64","arguments","length","undefined","quality","Promise","resolve","createElement","ctx","getContext","ratio","drawImage","compressedBase64","exportToReport","html","forEach","index","concat","blob","Blob","type","URL","createObjectURL","a","href","download","toISOString","slice","body","appendChild","removeChild","revokeObjectURL","message","className","children","placeholder","onChange","onKeyPress","key","onClick","defaultValue","preset","ref","accept","style","backgroundColor","color","step","parseFloat","onMouseDown","title","sandbox","opacity","position","transform","transformOrigin","transition","alt","draggable","objectFit","disabled","textAlign","marginTop","_objectSpread"],"sources":["C:/Users/钱阳/ui-inspection-tool-web/src/App.js"],"sourcesContent":["import React, { useState, useRef, useCallback } from 'react';\nimport html2canvas from 'html2canvas';\nimport './index.css';\n\nfunction App() {\n  const [url, setUrl] = useState('');\n  const [currentUrl, setCurrentUrl] = useState('');\n  const [designImage, setDesignImage] = useState(null);\n  const [imageOpacity, setImageOpacity] = useState(0.5);\n  const [imageSize, setImageSize] = useState({ width: 400, height: 300 });\n  const [imagePosition, setImagePosition] = useState({ x: 0, y: 0 });\n  const [imageScale, setImageScale] = useState(1);\n  const [imageTransformOrigin, setImageTransformOrigin] = useState('center center');\n  const [isDragging, setIsDragging] = useState(false);\n  const [isResizing, setIsResizing] = useState(false);\n  const [dragStart, setDragStart] = useState(null);\n  const [resizeStart, setResizeStart] = useState(null);\n  const [isSelecting, setIsSelecting] = useState(false);\n  const [selection, setSelection] = useState(null);\n  const [selectionStart, setSelectionStart] = useState(null);\n  const [issues, setIssues] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [modalScreenshot, setModalScreenshot] = useState(null);\n  const [currentIssue, setCurrentIssue] = useState({ description: '', suggestion: '' });\n  const [editingIssueId, setEditingIssueId] = useState(null);\n  const [designSize, setDesignSize] = useState({ width: 1440, height: 900 });\n\n  const previewRef = useRef();\n  const fileInputRef = useRef();\n  const iframeRef = useRef();\n\n  // 常见Web端设计尺寸\n  const designSizePresets = [\n    { name: '1440×900 (主流)', width: 1440, height: 900 },\n    { name: '1920×1080 (桌面)', width: 1920, height: 1080 },\n    { name: '1366×768 (笔记本)', width: 1366, height: 768 },\n    { name: '1280×720 (小屏)', width: 1280, height: 720 },\n    { name: '1600×900 (宽屏)', width: 1600, height: 900 }\n  ];\n\n  const loadUrl = () => {\n    if (url.trim()) {\n      setCurrentUrl(url.trim());\n    }\n  };\n\n  // 切换设计尺寸\n  const handleDesignSizeChange = (event) => {\n    const selectedIndex = event.target.value;\n    const selectedPreset = designSizePresets[selectedIndex];\n    setDesignSize({ width: selectedPreset.width, height: selectedPreset.height });\n  };\n\n  const handleImageUpload = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const img = new Image();\n        img.onload = () => {\n          setDesignImage(e.target.result);\n          \n          // 设置初始尺寸\n          const maxWidth = 500;\n          const maxHeight = 400;\n          let width = img.width;\n          let height = img.height;\n          \n          // 如果图片太大，按比例缩小\n          if (width > maxWidth || height > maxHeight) {\n            const scaleX = maxWidth / width;\n            const scaleY = maxHeight / height;\n            const scale = Math.min(scaleX, scaleY);\n            width = Math.round(width * scale);\n            height = Math.round(height * scale);\n          }\n          \n          setImageSize({ width, height });\n          setImagePosition({ x: 100, y: 100 });\n        };\n        img.src = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const triggerImageUpload = () => {\n    fileInputRef.current.click();\n  };\n\n  const removeDesignImage = () => {\n    setDesignImage(null);\n    setImagePosition({ x: 0, y: 0 });\n    setImageSize({ width: 400, height: 300 });\n    setImageScale(1);\n    setImageTransformOrigin('center center');\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  const handleImageMouseDown = (e) => {\n    // 检查是否点击在resize handle上\n    if (e.target.classList.contains('resize-handle') || \n        e.target.closest('.resize-handle')) {\n      return; // 避免和缩放冲突\n    }\n    \n    // 确保点击的是图片本身或图片容器\n    if (!e.target.classList.contains('design-image') && \n        !e.target.classList.contains('design-overlay')) {\n      return;\n    }\n    \n    e.preventDefault();\n    e.stopPropagation();\n    \n    // 添加更严格的状态检查\n    if (isResizing || isSelecting) {\n      return;\n    }\n    \n    setIsDragging(true);\n    setDragStart({\n      x: e.clientX - imagePosition.x,\n      y: e.clientY - imagePosition.y\n    });\n  };\n\n  const handleResizeMouseDown = (e, direction) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    // 添加更严格的状态检查\n    if (isDragging || isSelecting || isResizing) {\n      return;\n    }\n    \n    setIsResizing(true);\n    \n    // 设置transform-origin根据方向\n    let origin = 'center center';\n    switch (direction) {\n      case 'nw': origin = 'bottom right'; break;\n      case 'ne': origin = 'bottom left'; break;\n      case 'sw': origin = 'top right'; break;\n      case 'se': origin = 'top left'; break;\n      case 'n': origin = 'bottom center'; break;\n      case 's': origin = 'top center'; break;\n      case 'w': origin = 'right center'; break;\n      case 'e': origin = 'left center'; break;\n    }\n    setImageTransformOrigin(origin);\n    \n    setResizeStart({\n      x: e.clientX,\n      y: e.clientY,\n      direction: direction,\n      startScale: imageScale\n    });\n  };\n\n  const handleMouseMove = useCallback((e) => {\n    // 直接处理拖拽\n    if (isDragging && dragStart) {\n      const newX = e.clientX - dragStart.x;\n      const newY = e.clientY - dragStart.y;\n      setImagePosition({ x: newX, y: newY });\n      return;\n    }\n\n    // 直接处理选择\n    if (isSelecting && selectionStart) {\n      const rect = previewRef.current?.getBoundingClientRect();\n      if (rect) {\n        const currentX = e.clientX - rect.left;\n        const currentY = e.clientY - rect.top;\n        \n        setSelection({\n          left: Math.min(selectionStart.x, currentX),\n          top: Math.min(selectionStart.y, currentY),\n          width: Math.abs(currentX - selectionStart.x),\n          height: Math.abs(currentY - selectionStart.y)\n        });\n      }\n      return;\n    }\n\n    // 使用transform缩放处理\n    if (isResizing && resizeStart) {\n      const deltaX = e.clientX - resizeStart.x;\n      const deltaY = e.clientY - resizeStart.y;\n      \n      // 根据拖拽方向计算缩放增量\n      let scaleChange = 0;\n      const sensitivity = 200;\n      \n      switch (resizeStart.direction) {\n        case 'se': // 右下角\n          scaleChange = Math.max(deltaX, deltaY) / sensitivity;\n          break;\n        case 'nw': // 左上角\n          scaleChange = -Math.max(-deltaX, -deltaY) / sensitivity;\n          break;\n        case 'ne': // 右上角\n          scaleChange = Math.max(deltaX, -deltaY) / sensitivity;\n          break;\n        case 'sw': // 左下角\n          scaleChange = Math.max(-deltaX, deltaY) / sensitivity;\n          break;\n        case 'e': // 右边\n          scaleChange = deltaX / sensitivity;\n          break;\n        case 'w': // 左边\n          scaleChange = -deltaX / sensitivity;\n          break;\n        case 's': // 下边\n          scaleChange = deltaY / sensitivity;\n          break;\n        case 'n': // 上边\n          scaleChange = -deltaY / sensitivity;\n          break;\n      }\n      \n      // 计算新的缩放值\n      const newScale = Math.max(0.1, Math.min(5, resizeStart.startScale + scaleChange));\n      setImageScale(newScale);\n    }\n  }, [isDragging, dragStart, isResizing, resizeStart, isSelecting, selectionStart]);\n\n  const handleMouseUp = useCallback(async () => {\n    // 保存当前状态\n    const wasDragging = isDragging;\n    const wasResizing = isResizing;\n    const wasSelecting = isSelecting;\n    \n    // 立即清理所有状态，防止状态残留\n    setIsDragging(false);\n    setIsResizing(false);\n    setDragStart(null);\n    setResizeStart(null);\n    \n    if (wasResizing) {\n      // 缩放结束后重置transform-origin\n      setTimeout(() => setImageTransformOrigin('center center'), 50);\n    }\n    \n    if (isSelecting && selection && selection.width > 10 && selection.height > 10) {\n      setIsSelecting(false);\n      \n      try {\n        const canvas = await html2canvas(previewRef.current, {\n          useCORS: true,\n          allowTaint: true,\n          scale: 1\n        });\n        \n        const screenshot = canvas.toDataURL('image/png');\n        setModalScreenshot(screenshot);\n        setShowModal(true);\n        setCurrentIssue({ description: '', suggestion: '' });\n        setEditingIssueId(null);\n      } catch (error) {\n        console.error('截图失败:', error);\n        alert('截图失败，请重试');\n      }\n    }\n  }, [isSelecting, selection]);\n\n  React.useEffect(() => {\n    if (isDragging || isResizing || isSelecting) {\n      const handleGlobalMouseMove = (e) => {\n        handleMouseMove(e);\n      };\n      \n      const handleGlobalMouseUp = (e) => {\n        handleMouseUp(e);\n      };\n      \n      // 添加全局事件监听，包括window事件\n      document.addEventListener('mousemove', handleGlobalMouseMove);\n      document.addEventListener('mouseup', handleGlobalMouseUp);\n      window.addEventListener('blur', handleGlobalMouseUp); // 窗口失焦时清理\n      document.addEventListener('mouseleave', handleGlobalMouseUp); // 鼠标离开文档时清理\n      \n      return () => {\n        document.removeEventListener('mousemove', handleGlobalMouseMove);\n        document.removeEventListener('mouseup', handleGlobalMouseUp);\n        window.removeEventListener('blur', handleGlobalMouseUp);\n        document.removeEventListener('mouseleave', handleGlobalMouseUp);\n      };\n    }\n  }, [isDragging, isResizing, isSelecting, handleMouseMove, handleMouseUp]);\n\n\n  const startSelection = () => {\n    setIsSelecting(true);\n    setSelection(null);\n  };\n\n  const cancelSelection = () => {\n    setIsSelecting(false);\n    setSelection(null);\n    setSelectionStart(null);\n  };\n\n  const handlePreviewMouseDown = (e) => {\n    if (isSelecting) {\n      const rect = previewRef.current.getBoundingClientRect();\n      setSelectionStart({\n        x: e.clientX - rect.left,\n        y: e.clientY - rect.top\n      });\n    }\n  };\n\n\n  const saveIssue = () => {\n    if (currentIssue.description.trim() || currentIssue.suggestion.trim()) {\n      const newIssue = {\n        id: editingIssueId || Date.now().toString(),\n        screenshot: modalScreenshot,\n        description: currentIssue.description,\n        suggestion: currentIssue.suggestion,\n        status: '未验收'\n      };\n\n      if (editingIssueId) {\n        setIssues(issues.map(issue => \n          issue.id === editingIssueId ? newIssue : issue\n        ));\n      } else {\n        setIssues([...issues, newIssue]);\n      }\n    }\n\n    setShowModal(false);\n    setSelection(null);\n    setSelectionStart(null);\n    setModalScreenshot(null);\n    setCurrentIssue({ description: '', suggestion: '' });\n    setEditingIssueId(null);\n  };\n\n  const editIssue = (issue) => {\n    setCurrentIssue({\n      description: issue.description,\n      suggestion: issue.suggestion\n    });\n    setModalScreenshot(issue.screenshot);\n    setEditingIssueId(issue.id);\n    setShowModal(true);\n  };\n\n  const deleteIssue = (issueId) => {\n    if (window.confirm('确定要删除这个问题吗？')) {\n      setIssues(issues.filter(issue => issue.id !== issueId));\n    }\n  };\n\n  // 将图片压缩为小尺寸缩略图\n  const compressImage = (base64, maxWidth = 150, maxHeight = 100, quality = 0.8) => {\n    return new Promise((resolve) => {\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n      const img = new Image();\n      \n      img.onload = () => {\n        // 计算压缩后的尺寸\n        let { width, height } = img;\n        const ratio = Math.min(maxWidth / width, maxHeight / height);\n        width = Math.round(width * ratio);\n        height = Math.round(height * ratio);\n        \n        canvas.width = width;\n        canvas.height = height;\n        \n        // 绘制压缩图片\n        ctx.drawImage(img, 0, 0, width, height);\n        \n        // 转为较低质量的base64\n        const compressedBase64 = canvas.toDataURL('image/jpeg', quality);\n        resolve(compressedBase64);\n      };\n      \n      img.src = base64;\n    });\n  };\n\n  const exportToReport = () => {\n    if (issues.length === 0) {\n      alert('没有问题记录可以导出');\n      return;\n    }\n\n    try {\n      // 直接使用原始图片，不压缩\n      let html = `\n        <html>\n        <head>\n          <meta charset=\"utf-8\">\n          <style>\n            body { \n              font-family: 'Microsoft YaHei', Arial, sans-serif; \n              margin: 40px;\n              line-height: 1.6;\n            }\n            .issue-item {\n              margin-bottom: 50px;\n              page-break-inside: avoid;\n              border: 1px solid #ddd;\n              border-radius: 8px;\n              padding: 25px;\n              background-color: #fafafa;\n            }\n            .issue-header {\n              background-color: #4472C4;\n              color: white;\n              padding: 18px 25px;\n              margin: -25px -25px 30px -25px;\n              border-radius: 7px 7px 0 0;\n              font-size: 42px;\n              font-weight: bold;\n              text-align: center;\n            }\n            .screenshot {\n              max-width: 600px;\n              height: auto;\n              border: 2px solid #ccc;\n              border-radius: 4px;\n              display: block;\n              margin: 20px auto;\n              box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n            }\n            .info-section {\n              margin-top: 25px;\n              background-color: #f8f9fa;\n              padding: 15px;\n              border-radius: 5px;\n            }\n            .info-label {\n              font-weight: bold;\n              color: #333;\n              margin-bottom: 15px;\n              font-size: 32px;\n            }\n            .info-content {\n              background-color: white;\n              padding: 25px;\n              border: 2px solid #ddd;\n              border-radius: 6px;\n              margin-bottom: 30px;\n              min-height: 80px;\n              font-size: 28px;\n              line-height: 2.0;\n            }\n          </style>\n        </head>\n        <body>\n      `;\n\n      issues.forEach((issue, index) => {\n        const status = issue.status || '未修改';\n        \n        html += `\n          <div class=\"issue-item\">\n            <div class=\"issue-header\">\n              问题 ${index + 1}\n            </div>\n            \n            <div style=\"text-align: center;\">\n              <img class=\"screenshot\" src=\"${issue.screenshot}\" alt=\"问题${index + 1}截图\" />\n            </div>\n            \n            <div class=\"info-section\">\n              <div class=\"info-label\">问题描述：</div>\n              <div class=\"info-content\">${issue.description || '无描述'}</div>\n              \n              <div class=\"info-label\">修改建议：</div>\n              <div class=\"info-content\">${issue.suggestion || '无建议'}</div>\n              \n              <div class=\"info-label\">验收状态：</div>\n              <div class=\"info-content\">未验收</div>\n            </div>\n          </div>\n        `;\n      });\n\n      html += `\n        </body>\n        </html>\n      `;\n\n      // 创建Blob并下载为.doc文件（Word兼容的HTML格式）\n      const blob = new Blob([html], { \n        type: 'application/msword;charset=utf-8' \n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `UI走查报告_${new Date().toISOString().slice(0, 10)}.doc`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n\n    } catch (error) {\n      console.error('导出Excel失败:', error);\n      alert('导出Excel失败，请重试：' + error.message);\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <div className=\"top-bar\">\n        <input\n          type=\"text\"\n          className=\"url-input\"\n          placeholder=\"请输入前端测试页面的URL地址...\"\n          value={url}\n          onChange={(e) => setUrl(e.target.value)}\n          onKeyPress={(e) => e.key === 'Enter' && loadUrl()}\n        />\n        <button className=\"load-button\" onClick={loadUrl}>\n          加载页面\n        </button>\n      </div>\n\n      <div className=\"main-content\">\n        <div className=\"preview-section\">\n          <div className=\"preview-controls\">\n            <div className=\"control-group\">\n              <label>设计尺寸:</label>\n              <select \n                className=\"design-size-selector\" \n                onChange={handleDesignSizeChange}\n                defaultValue={0}\n              >\n                {designSizePresets.map((preset, index) => (\n                  <option key={index} value={index}>\n                    {preset.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <input\n              type=\"file\"\n              ref={fileInputRef}\n              className=\"file-input\"\n              accept=\"image/*\"\n              onChange={handleImageUpload}\n            />\n            <button className=\"upload-button\" onClick={triggerImageUpload}>\n              上传设计图\n            </button>\n            \n            <button \n              className=\"upload-button\" \n              onClick={isSelecting ? cancelSelection : startSelection}\n              style={{backgroundColor: isSelecting ? '#dc3545' : '#ffc107', color: isSelecting ? 'white' : '#212529'}}\n            >\n              {isSelecting ? '取消框选' : '开始框选'}\n            </button>\n            \n            {designImage && (\n              <>\n                <button className=\"upload-button\" onClick={removeDesignImage} style={{backgroundColor: '#dc3545'}}>\n                  删除设计图\n                </button>\n                <div className=\"control-group\">\n                  <label>透明度:</label>\n                  <input\n                    type=\"range\"\n                    className=\"control-slider\"\n                    min=\"0\"\n                    max=\"1\"\n                    step=\"0.1\"\n                    value={imageOpacity}\n                    onChange={(e) => setImageOpacity(parseFloat(e.target.value))}\n                  />\n                  <span>{Math.round(imageOpacity * 100)}%</span>\n                </div>\n              </>\n            )}\n          </div>\n\n\n          <div \n            className=\"preview-container\" \n            id=\"previewArea\"\n            ref={previewRef}\n            onMouseDown={handlePreviewMouseDown}\n          >\n            <div \n              className=\"iframe-wrapper\"\n              id=\"frameWrapper\"\n              style={{\n                width: designSize.width,\n                height: designSize.height\n              }}\n            >\n              {currentUrl && (\n                <iframe\n                  ref={iframeRef}\n                  className=\"preview-iframe\"\n                  src={currentUrl}\n                  title=\"网页预览\"\n                  sandbox=\"allow-same-origin allow-scripts allow-forms\"\n                  style={{\n                    width: designSize.width,\n                    height: designSize.height\n                  }}\n                />\n              )}\n              \n              {designImage && (\n              <div\n                className={`design-overlay ${isDragging ? 'dragging' : ''} ${isResizing ? 'resizing' : ''}`}\n                style={{\n                  left: imagePosition.x,\n                  top: imagePosition.y,\n                  width: imageSize.width,\n                  height: imageSize.height,\n                  opacity: imageOpacity,\n                  position: 'absolute',\n                  transform: `scale(${imageScale})`,\n                  transformOrigin: imageTransformOrigin,\n                  transition: isResizing ? 'none' : 'transform 0.1s ease'\n                }}\n                onMouseDown={handleImageMouseDown}\n              >\n                <img\n                  className=\"design-image\"\n                  src={designImage}\n                  alt=\"设计图\"\n                  draggable={false}\n                  style={{ \n                    width: '100%',\n                    height: '100%',\n                    objectFit: 'contain' // 保持宽高比\n                  }}\n                />\n                \n                {/* 8个缩放控制点 */}\n                <div className=\"resize-handle nw\" onMouseDown={(e) => handleResizeMouseDown(e, 'nw')} title=\"拖拽调整大小\" />\n                <div className=\"resize-handle n\" onMouseDown={(e) => handleResizeMouseDown(e, 'n')} title=\"拖拽调整大小\" />\n                <div className=\"resize-handle ne\" onMouseDown={(e) => handleResizeMouseDown(e, 'ne')} title=\"拖拽调整大小\" />\n                <div className=\"resize-handle e\" onMouseDown={(e) => handleResizeMouseDown(e, 'e')} title=\"拖拽调整大小\" />\n                <div className=\"resize-handle se\" onMouseDown={(e) => handleResizeMouseDown(e, 'se')} title=\"拖拽调整大小\" />\n                <div className=\"resize-handle s\" onMouseDown={(e) => handleResizeMouseDown(e, 's')} title=\"拖拽调整大小\" />\n                <div className=\"resize-handle sw\" onMouseDown={(e) => handleResizeMouseDown(e, 'sw')} title=\"拖拽调整大小\" />\n                <div className=\"resize-handle w\" onMouseDown={(e) => handleResizeMouseDown(e, 'w')} title=\"拖拽调整大小\" />\n              </div>\n            )}\n\n            <div className={`selection-overlay ${isSelecting ? 'selecting' : ''}`}>\n              {selection && (\n                <div\n                  className=\"selection-box\"\n                  style={{\n                    left: selection.left,\n                    top: selection.top,\n                    width: selection.width,\n                    height: selection.height\n                  }}\n                />\n              )}\n            </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"issues-panel\">\n          <div className=\"issues-header\">\n            <h3 className=\"issues-title\">问题列表 ({issues.length})</h3>\n            <button className=\"export-button\" onClick={exportToReport} disabled={issues.length === 0}>\n              导出走查报告\n            </button>\n          </div>\n          \n          <div className=\"issues-list\">\n            {issues.length === 0 ? (\n              <div style={{ textAlign: 'center', color: '#666', marginTop: '50px' }}>\n                暂无问题记录\n                <br />\n                <small>上传设计图后，点击\"开始框选\"来标记问题区域</small>\n              </div>\n            ) : (\n              issues.map((issue) => (\n                <div key={issue.id} className=\"issue-item\">\n                  <img\n                    className=\"issue-screenshot\"\n                    src={issue.screenshot}\n                    alt=\"问题截图\"\n                  />\n                  <div className=\"issue-description\">\n                    <div className=\"issue-label\">问题描述:</div>\n                    <div className=\"issue-text\">{issue.description || '无描述'}</div>\n                  </div>\n                  <div className=\"issue-suggestion\">\n                    <div className=\"issue-label\">修改建议:</div>\n                    <div className=\"issue-text\">{issue.suggestion || '无建议'}</div>\n                  </div>\n                  <div className=\"issue-actions\">\n                    <button className=\"edit-button\" onClick={() => editIssue(issue)}>\n                      编辑\n                    </button>\n                    <button className=\"delete-button\" onClick={() => deleteIssue(issue.id)}>\n                      删除\n                    </button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      </div>\n\n      {showModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <h3 className=\"modal-title\">\n              {editingIssueId ? '编辑问题' : '添加问题'}\n            </h3>\n            \n            <img\n              className=\"modal-screenshot\"\n              src={modalScreenshot}\n              alt=\"截图\"\n            />\n\n            <div className=\"form-group\">\n              <label className=\"form-label\">问题描述</label>\n              <textarea\n                className=\"form-textarea\"\n                value={currentIssue.description}\n                onChange={(e) => setCurrentIssue({...currentIssue, description: e.target.value})}\n                placeholder=\"请具体描述发现的问题，如：按钮颜色不对、文字大小不符合设计稿等\"\n              />\n              <div className=\"form-placeholder\">\n                提示：请详细描述问题，便于开发人员理解和修改\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <label className=\"form-label\">修改建议</label>\n              <textarea\n                className=\"form-textarea\"\n                value={currentIssue.suggestion}\n                onChange={(e) => setCurrentIssue({...currentIssue, suggestion: e.target.value})}\n                placeholder=\"请提供具体的修改建议，如：颜色改为#FF0000、字体大小改为16px等\"\n              />\n              <div className=\"form-placeholder\">\n                提示：请提供具体的数值和参数，便于开发人员精确修改\n              </div>\n            </div>\n\n            <div className=\"modal-actions\">\n              <button \n                className=\"modal-button secondary\" \n                onClick={() => {\n                  setShowModal(false);\n                  setSelection(null);\n                  setSelectionStart(null);\n                  setCurrentIssue({ description: '', suggestion: '' });\n                  setEditingIssueId(null);\n                }}\n              >\n                取消\n              </button>\n              <button className=\"modal-button primary\" onClick={saveIssue}>\n                {editingIssueId ? '保存修改' : '添加问题'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}