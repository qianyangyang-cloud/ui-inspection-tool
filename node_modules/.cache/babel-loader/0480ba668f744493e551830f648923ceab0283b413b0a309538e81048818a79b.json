{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u94B1\\u9633\\\\ui-inspection-tool-web\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useCallback } from 'react';\nimport html2canvas from 'html2canvas';\nimport './index.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [url, setUrl] = useState('');\n  const [currentUrl, setCurrentUrl] = useState('');\n  const [designImage, setDesignImage] = useState(null);\n  const [imageOpacity, setImageOpacity] = useState(0.5);\n  const [imageSize, setImageSize] = useState({\n    width: 400,\n    height: 300\n  });\n  const [imageAspectRatio, setImageAspectRatio] = useState(1);\n  const [imagePosition, setImagePosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [isDragging, setIsDragging] = useState(false);\n  const [isResizing, setIsResizing] = useState(false);\n  const [dragStart, setDragStart] = useState(null);\n  const [resizeStart, setResizeStart] = useState(null);\n  const [isSelecting, setIsSelecting] = useState(false);\n  const [selection, setSelection] = useState(null);\n  const [selectionStart, setSelectionStart] = useState(null);\n  const [issues, setIssues] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [modalScreenshot, setModalScreenshot] = useState(null);\n  const [currentIssue, setCurrentIssue] = useState({\n    description: '',\n    suggestion: ''\n  });\n  const [editingIssueId, setEditingIssueId] = useState(null);\n  const [pageSize, setPageSize] = useState({\n    width: 1440,\n    height: 900\n  });\n  const [autoScale, setAutoScale] = useState(1);\n  const [scaleAdjustment, setScaleAdjustment] = useState(1);\n  const [showSizeSelector, setShowSizeSelector] = useState(false);\n  const [customSize, setCustomSize] = useState({\n    width: '',\n    height: ''\n  });\n  const previewRef = useRef();\n  const fileInputRef = useRef();\n  const iframeRef = useRef();\n  const resizeObserver = useRef(null);\n\n  // 页面尺寸预设\n  const sizePresets = [{\n    name: '1920×1080 (桌面)',\n    width: 1920,\n    height: 1080\n  }, {\n    name: '1440×900 (常见)',\n    width: 1440,\n    height: 900\n  }, {\n    name: '1366×768 (笔记本)',\n    width: 1366,\n    height: 768\n  }, {\n    name: '1280×1024 (旧屏)',\n    width: 1280,\n    height: 1024\n  }, {\n    name: '1600×900 (宽屏)',\n    width: 1600,\n    height: 900\n  }];\n\n  // 计算最终缩放比例\n  const finalScale = autoScale * scaleAdjustment;\n\n  // 从localStorage获取上次的页面尺寸\n  const loadSavedSize = useCallback(() => {\n    try {\n      const saved = localStorage.getItem('ui-inspector-page-size');\n      if (saved) {\n        const parsedSize = JSON.parse(saved);\n        setPageSize(parsedSize);\n      }\n    } catch (error) {\n      console.warn('无法加载保存的页面尺寸');\n    }\n  }, []);\n\n  // 保存页面尺寸到localStorage\n  const savePageSize = useCallback(size => {\n    try {\n      localStorage.setItem('ui-inspector-page-size', JSON.stringify(size));\n    } catch (error) {\n      console.warn('无法保存页面尺寸');\n    }\n  }, []);\n  const loadUrl = () => {\n    if (url.trim()) {\n      setCurrentUrl(url.trim());\n      setScaleAdjustment(1); // 重置微调\n    }\n  };\n\n  // iframe加载完成，尝试获取页面真实尺寸\n  const handleIframeLoad = useCallback(() => {\n    try {\n      if (iframeRef.current && iframeRef.current.contentWindow) {\n        const iframeDoc = iframeRef.current.contentDocument || iframeRef.current.contentWindow.document;\n        if (iframeDoc && iframeDoc.body) {\n          // 同源情况：可以读取页面尺寸\n          const body = iframeDoc.body;\n          const html = iframeDoc.documentElement;\n          const width = Math.max(body.scrollWidth, body.offsetWidth, html.clientWidth, html.scrollWidth, html.offsetWidth);\n          const height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n          if (width > 0 && height > 0) {\n            const detectedSize = {\n              width,\n              height\n            };\n            setPageSize(detectedSize);\n            savePageSize(detectedSize);\n            console.log('检测到页面尺寸:', detectedSize);\n            return;\n          }\n        }\n      }\n    } catch (error) {\n      // 跨域限制，显示尺寸选择器\n      console.log('跨域限制，显示尺寸选择器');\n      setShowSizeSelector(true);\n    }\n  }, [savePageSize]);\n\n  // 计算自动缩放比例\n  const calculateAutoScale = useCallback(() => {\n    if (previewRef.current) {\n      const container = previewRef.current;\n      const containerRect = container.getBoundingClientRect();\n\n      // 减去padding的空间\n      const availableWidth = containerRect.width - 40; // 20px padding * 2\n      const availableHeight = containerRect.height - 40; // 20px padding * 2\n\n      const scaleX = availableWidth / pageSize.width;\n      const scaleY = availableHeight / pageSize.height;\n\n      // 取较小的比例以保证完整显示\n      const newAutoScale = Math.min(scaleX, scaleY, 1); // 最大不超过1\n\n      setAutoScale(newAutoScale);\n    }\n  }, [pageSize.width, pageSize.height]);\n\n  // 缩放微调\n  const adjustScale = factor => {\n    setScaleAdjustment(prev => Math.max(0.1, Math.min(3, prev * factor)));\n  };\n\n  // 重置为自动比例\n  const resetScale = () => {\n    setScaleAdjustment(1);\n  };\n\n  // 选择预设尺寸\n  const selectPresetSize = preset => {\n    const newSize = {\n      width: preset.width,\n      height: preset.height\n    };\n    setPageSize(newSize);\n    savePageSize(newSize);\n    setShowSizeSelector(false);\n  };\n\n  // 应用自定义尺寸\n  const applyCustomSize = () => {\n    const width = parseInt(customSize.width);\n    const height = parseInt(customSize.height);\n    if (width > 0 && height > 0) {\n      const newSize = {\n        width,\n        height\n      };\n      setPageSize(newSize);\n      savePageSize(newSize);\n      setShowSizeSelector(false);\n      setCustomSize({\n        width: '',\n        height: ''\n      });\n    } else {\n      alert('请输入有效的宽度和高度');\n    }\n  };\n  const handleImageUpload = event => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        const img = new Image();\n        img.onload = () => {\n          setDesignImage(e.target.result);\n\n          // 计算宽高比\n          const aspectRatio = img.width / img.height;\n          setImageAspectRatio(aspectRatio);\n\n          // 设置初始尺寸\n          const maxWidth = 500;\n          const maxHeight = 400;\n          let width = img.width;\n          let height = img.height;\n\n          // 如果图片太大，按比例缩小\n          if (width > maxWidth || height > maxHeight) {\n            const scaleX = maxWidth / width;\n            const scaleY = maxHeight / height;\n            const scale = Math.min(scaleX, scaleY);\n            width = Math.round(width * scale);\n            height = Math.round(height * scale);\n          }\n          setImageSize({\n            width,\n            height\n          });\n          setImagePosition({\n            x: 100,\n            y: 100\n          });\n        };\n        img.src = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const triggerImageUpload = () => {\n    fileInputRef.current.click();\n  };\n  const removeDesignImage = () => {\n    setDesignImage(null);\n    setImagePosition({\n      x: 0,\n      y: 0\n    });\n    setImageSize({\n      width: 400,\n      height: 300\n    });\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n  const handleImageMouseDown = e => {\n    if (e.target.classList.contains('resize-handle')) return; // 避免和缩放冲突\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(true);\n    setDragStart({\n      x: e.clientX - imagePosition.x,\n      y: e.clientY - imagePosition.y\n    });\n  };\n  const handleResizeMouseDown = (e, direction) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsResizing(true);\n    setResizeStart({\n      x: e.clientX,\n      y: e.clientY,\n      direction: direction,\n      startSize: {\n        ...imageSize\n      },\n      startPosition: {\n        ...imagePosition\n      }\n    });\n  };\n  const handleMouseMove = useCallback(e => {\n    if (isDragging && dragStart) {\n      setImagePosition({\n        x: e.clientX - dragStart.x,\n        y: e.clientY - dragStart.y\n      });\n    }\n    if (isResizing && resizeStart) {\n      const deltaX = e.clientX - resizeStart.x;\n      const deltaY = e.clientY - resizeStart.y;\n\n      // 计算主要的缩放变化（取X和Y的平均值以保持等比例）\n      const delta = (deltaX + deltaY) / 2;\n      let scale = 1 + delta / 200; // 缩放敏感度\n\n      // 根据不同方向调整缩放方向\n      switch (resizeStart.direction) {\n        case 'se':\n          // 右下角\n          break;\n        // 默认正向缩放\n        case 'nw':\n          // 左上角\n          break;\n        // 正向缩放\n        case 'sw':\n          // 左下角\n          scale = 1 + (-deltaX + deltaY) / 400;\n          break;\n        case 'ne':\n          // 右上角\n          scale = 1 + (deltaX - deltaY) / 400;\n          break;\n        case 'e':\n          // 右边\n          scale = 1 + deltaX / 200;\n          break;\n        case 'w':\n          // 左边\n          scale = 1 + -deltaX / 200;\n          break;\n        case 's':\n          // 下边\n          scale = 1 + deltaY / 200;\n          break;\n        case 'n':\n          // 上边\n          scale = 1 + -deltaY / 200;\n          break;\n        default:\n          break;\n      }\n\n      // 限制缩放范围\n      scale = Math.max(0.2, Math.min(5, scale));\n\n      // 计算新的等比例尺寸\n      let newWidth = Math.round(resizeStart.startSize.width * scale);\n      let newHeight = Math.round(newWidth / imageAspectRatio);\n\n      // 最小尺寸限制\n      newWidth = Math.max(50, newWidth);\n      newHeight = Math.max(30, newHeight);\n\n      // 根据缩放方向调整位置（确保对应的边固定不动）\n      let newX = resizeStart.startPosition.x;\n      let newY = resizeStart.startPosition.y;\n      if (['nw', 'n', 'ne'].includes(resizeStart.direction)) {\n        // 上边固定，调整Y位置\n        newY = resizeStart.startPosition.y + (resizeStart.startSize.height - newHeight);\n      }\n      if (['nw', 'w', 'sw'].includes(resizeStart.direction)) {\n        // 左边固定，调整X位置\n        newX = resizeStart.startPosition.x + (resizeStart.startSize.width - newWidth);\n      }\n      setImageSize({\n        width: newWidth,\n        height: newHeight\n      });\n      setImagePosition({\n        x: newX,\n        y: newY\n      });\n    }\n    if (isSelecting && selectionStart) {\n      const rect = previewRef.current.getBoundingClientRect();\n      const currentX = e.clientX - rect.left;\n      const currentY = e.clientY - rect.top;\n      setSelection({\n        left: Math.min(selectionStart.x, currentX),\n        top: Math.min(selectionStart.y, currentY),\n        width: Math.abs(currentX - selectionStart.x),\n        height: Math.abs(currentY - selectionStart.y)\n      });\n    }\n  }, [isDragging, dragStart, isResizing, resizeStart, isSelecting, selectionStart, imageAspectRatio]);\n  const handleMouseUp = useCallback(async () => {\n    setIsDragging(false);\n    setIsResizing(false);\n    setDragStart(null);\n    setResizeStart(null);\n    if (isSelecting && selection && selection.width > 10 && selection.height > 10) {\n      setIsSelecting(false);\n      try {\n        const canvas = await html2canvas(previewRef.current, {\n          useCORS: true,\n          allowTaint: true,\n          scale: 1\n        });\n        const screenshot = canvas.toDataURL('image/png');\n        setModalScreenshot(screenshot);\n        setShowModal(true);\n        setCurrentIssue({\n          description: '',\n          suggestion: ''\n        });\n        setEditingIssueId(null);\n      } catch (error) {\n        console.error('截图失败:', error);\n        alert('截图失败，请重试');\n      }\n    }\n  }, [isSelecting, selection]);\n  React.useEffect(() => {\n    if (isDragging || isResizing || isSelecting) {\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n      return () => {\n        document.removeEventListener('mousemove', handleMouseMove);\n        document.removeEventListener('mouseup', handleMouseUp);\n      };\n    }\n  }, [isDragging, isResizing, isSelecting, handleMouseMove, handleMouseUp]);\n\n  // 初始化时加载保存的尺寸\n  React.useEffect(() => {\n    loadSavedSize();\n  }, [loadSavedSize]);\n\n  // 监听容器和窗口尺寸变化（双保险）\n  React.useEffect(() => {\n    calculateAutoScale();\n    const handleWindowResize = () => {\n      calculateAutoScale();\n    };\n\n    // 窗口resize监听\n    window.addEventListener('resize', handleWindowResize);\n\n    // ResizeObserver监听容器变化\n    if (previewRef.current && window.ResizeObserver) {\n      resizeObserver.current = new ResizeObserver(() => {\n        calculateAutoScale();\n      });\n      resizeObserver.current.observe(previewRef.current);\n    }\n    return () => {\n      window.removeEventListener('resize', handleWindowResize);\n      if (resizeObserver.current) {\n        resizeObserver.current.disconnect();\n      }\n    };\n  }, [calculateAutoScale]);\n\n  // 页面尺寸变化时重新计算\n  React.useEffect(() => {\n    calculateAutoScale();\n  }, [pageSize, calculateAutoScale]);\n  const startSelection = () => {\n    setIsSelecting(true);\n    setSelection(null);\n  };\n  const cancelSelection = () => {\n    setIsSelecting(false);\n    setSelection(null);\n    setSelectionStart(null);\n  };\n  const handlePreviewMouseDown = e => {\n    if (isSelecting) {\n      const rect = previewRef.current.getBoundingClientRect();\n      setSelectionStart({\n        x: e.clientX - rect.left,\n        y: e.clientY - rect.top\n      });\n    }\n  };\n  const saveIssue = () => {\n    if (currentIssue.description.trim() || currentIssue.suggestion.trim()) {\n      const newIssue = {\n        id: editingIssueId || Date.now().toString(),\n        screenshot: modalScreenshot,\n        description: currentIssue.description,\n        suggestion: currentIssue.suggestion,\n        status: '未验收'\n      };\n      if (editingIssueId) {\n        setIssues(issues.map(issue => issue.id === editingIssueId ? newIssue : issue));\n      } else {\n        setIssues([...issues, newIssue]);\n      }\n    }\n    setShowModal(false);\n    setSelection(null);\n    setSelectionStart(null);\n    setModalScreenshot(null);\n    setCurrentIssue({\n      description: '',\n      suggestion: ''\n    });\n    setEditingIssueId(null);\n  };\n  const editIssue = issue => {\n    setCurrentIssue({\n      description: issue.description,\n      suggestion: issue.suggestion\n    });\n    setModalScreenshot(issue.screenshot);\n    setEditingIssueId(issue.id);\n    setShowModal(true);\n  };\n  const deleteIssue = issueId => {\n    if (window.confirm('确定要删除这个问题吗？')) {\n      setIssues(issues.filter(issue => issue.id !== issueId));\n    }\n  };\n\n  // 将图片压缩为小尺寸缩略图\n  const compressImage = (base64, maxWidth = 150, maxHeight = 100, quality = 0.8) => {\n    return new Promise(resolve => {\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n      const img = new Image();\n      img.onload = () => {\n        // 计算压缩后的尺寸\n        let {\n          width,\n          height\n        } = img;\n        const ratio = Math.min(maxWidth / width, maxHeight / height);\n        width = Math.round(width * ratio);\n        height = Math.round(height * ratio);\n        canvas.width = width;\n        canvas.height = height;\n\n        // 绘制压缩图片\n        ctx.drawImage(img, 0, 0, width, height);\n\n        // 转为较低质量的base64\n        const compressedBase64 = canvas.toDataURL('image/jpeg', quality);\n        resolve(compressedBase64);\n      };\n      img.src = base64;\n    });\n  };\n  const exportToReport = () => {\n    if (issues.length === 0) {\n      alert('没有问题记录可以导出');\n      return;\n    }\n    try {\n      // 直接使用原始图片，不压缩\n      let html = `\n        <html>\n        <head>\n          <meta charset=\"utf-8\">\n          <style>\n            body { \n              font-family: 'Microsoft YaHei', Arial, sans-serif; \n              margin: 40px;\n              line-height: 1.6;\n            }\n            .issue-item {\n              margin-bottom: 50px;\n              page-break-inside: avoid;\n              border: 1px solid #ddd;\n              border-radius: 8px;\n              padding: 25px;\n              background-color: #fafafa;\n            }\n            .issue-header {\n              background-color: #4472C4;\n              color: white;\n              padding: 18px 25px;\n              margin: -25px -25px 30px -25px;\n              border-radius: 7px 7px 0 0;\n              font-size: 42px;\n              font-weight: bold;\n              text-align: center;\n            }\n            .screenshot {\n              max-width: 600px;\n              height: auto;\n              border: 2px solid #ccc;\n              border-radius: 4px;\n              display: block;\n              margin: 20px auto;\n              box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n            }\n            .info-section {\n              margin-top: 25px;\n              background-color: #f8f9fa;\n              padding: 15px;\n              border-radius: 5px;\n            }\n            .info-label {\n              font-weight: bold;\n              color: #333;\n              margin-bottom: 15px;\n              font-size: 32px;\n            }\n            .info-content {\n              background-color: white;\n              padding: 25px;\n              border: 2px solid #ddd;\n              border-radius: 6px;\n              margin-bottom: 30px;\n              min-height: 80px;\n              font-size: 28px;\n              line-height: 2.0;\n            }\n          </style>\n        </head>\n        <body>\n      `;\n      issues.forEach((issue, index) => {\n        const status = issue.status || '未修改';\n        html += `\n          <div class=\"issue-item\">\n            <div class=\"issue-header\">\n              问题 ${index + 1}\n            </div>\n            \n            <div style=\"text-align: center;\">\n              <img class=\"screenshot\" src=\"${issue.screenshot}\" alt=\"问题${index + 1}截图\" />\n            </div>\n            \n            <div class=\"info-section\">\n              <div class=\"info-label\">问题描述：</div>\n              <div class=\"info-content\">${issue.description || '无描述'}</div>\n              \n              <div class=\"info-label\">修改建议：</div>\n              <div class=\"info-content\">${issue.suggestion || '无建议'}</div>\n              \n              <div class=\"info-label\">验收状态：</div>\n              <div class=\"info-content\">未验收</div>\n            </div>\n          </div>\n        `;\n      });\n      html += `\n        </body>\n        </html>\n      `;\n\n      // 创建Blob并下载为.doc文件（Word兼容的HTML格式）\n      const blob = new Blob([html], {\n        type: 'application/msword;charset=utf-8'\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `UI走查报告_${new Date().toISOString().slice(0, 10)}.doc`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('导出Excel失败:', error);\n      alert('导出Excel失败，请重试：' + error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"url-input\",\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u524D\\u7AEF\\u6D4B\\u8BD5\\u9875\\u9762\\u7684URL\\u5730\\u5740...\",\n        value: url,\n        onChange: e => setUrl(e.target.value),\n        onKeyPress: e => e.key === 'Enter' && loadUrl()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 625,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"load-button\",\n        onClick: loadUrl,\n        children: \"\\u52A0\\u8F7D\\u9875\\u9762\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 633,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 624,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preview-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"preview-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"control-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u9875\\u9762\\u5C3A\\u5BF8:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"size-display\",\n              children: [pageSize.width, \"\\xD7\", pageSize.height]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"size-button\",\n              onClick: () => setShowSizeSelector(true),\n              title: \"\\u4FEE\\u6539\\u9875\\u9762\\u5C3A\\u5BF8\",\n              children: \"\\u4FEE\\u6539\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 644,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 641,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"control-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u7F29\\u653E:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"scale-button\",\n              onClick: () => adjustScale(0.9),\n              title: \"\\u7F29\\u5C0F\",\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 655,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"scale-display\",\n              children: [Math.round(finalScale * 100), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 656,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"scale-button\",\n              onClick: () => adjustScale(1.1),\n              title: \"\\u653E\\u5927\",\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 657,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"reset-button\",\n              onClick: resetScale,\n              title: \"\\u91CD\\u7F6E\\u7F29\\u653E\",\n              children: \"\\u91CD\\u7F6E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            ref: fileInputRef,\n            className: \"file-input\",\n            accept: \"image/*\",\n            onChange: handleImageUpload\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 661,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"upload-button\",\n            onClick: triggerImageUpload,\n            children: \"\\u4E0A\\u4F20\\u8BBE\\u8BA1\\u56FE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 13\n          }, this), designImage && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"upload-button\",\n              onClick: removeDesignImage,\n              style: {\n                backgroundColor: '#dc3545'\n              },\n              children: \"\\u5220\\u9664\\u8BBE\\u8BA1\\u56FE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"control-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u900F\\u660E\\u5EA6:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 677,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                className: \"control-slider\",\n                min: \"0\",\n                max: \"1\",\n                step: \"0.1\",\n                value: imageOpacity,\n                onChange: e => setImageOpacity(parseFloat(e.target.value))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [Math.round(imageOpacity * 100), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"upload-button\",\n              onClick: isSelecting ? cancelSelection : startSelection,\n              style: {\n                backgroundColor: isSelecting ? '#dc3545' : '#ffc107',\n                color: isSelecting ? 'white' : '#212529'\n              },\n              children: isSelecting ? '取消框选' : '开始框选'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 640,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"preview-container\",\n          id: \"previewArea\",\n          ref: previewRef,\n          onMouseDown: handlePreviewMouseDown,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"iframe-wrapper\",\n            id: \"frameWrapper\",\n            style: {\n              width: pageSize.width,\n              height: pageSize.height,\n              transform: `scale(${finalScale})`,\n              transformOrigin: 'top left'\n            },\n            children: [currentUrl && /*#__PURE__*/_jsxDEV(\"iframe\", {\n              ref: iframeRef,\n              className: \"preview-iframe\",\n              src: currentUrl,\n              title: \"\\u7F51\\u9875\\u9884\\u89C8\",\n              sandbox: \"allow-same-origin allow-scripts allow-forms\",\n              onLoad: handleIframeLoad,\n              style: {\n                width: pageSize.width,\n                height: pageSize.height\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 718,\n              columnNumber: 17\n            }, this), designImage && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `design-overlay ${isDragging ? 'dragging' : ''} ${isResizing ? 'resizing' : ''}`,\n              style: {\n                left: imagePosition.x,\n                top: imagePosition.y,\n                width: imageSize.width,\n                height: imageSize.height,\n                opacity: imageOpacity,\n                position: 'absolute'\n              },\n              onMouseDown: handleImageMouseDown,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"design-image\",\n                src: designImage,\n                alt: \"\\u8BBE\\u8BA1\\u56FE\",\n                draggable: false,\n                style: {\n                  width: '100%',\n                  height: '100%',\n                  objectFit: 'contain' // 保持宽高比\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 745,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"resize-handle nw\",\n                onMouseDown: e => handleResizeMouseDown(e, 'nw'),\n                title: \"\\u62D6\\u62FD\\u8C03\\u6574\\u5927\\u5C0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 758,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"resize-handle n\",\n                onMouseDown: e => handleResizeMouseDown(e, 'n'),\n                title: \"\\u62D6\\u62FD\\u8C03\\u6574\\u5927\\u5C0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 759,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"resize-handle ne\",\n                onMouseDown: e => handleResizeMouseDown(e, 'ne'),\n                title: \"\\u62D6\\u62FD\\u8C03\\u6574\\u5927\\u5C0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 760,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"resize-handle e\",\n                onMouseDown: e => handleResizeMouseDown(e, 'e'),\n                title: \"\\u62D6\\u62FD\\u8C03\\u6574\\u5927\\u5C0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 761,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"resize-handle se\",\n                onMouseDown: e => handleResizeMouseDown(e, 'se'),\n                title: \"\\u62D6\\u62FD\\u8C03\\u6574\\u5927\\u5C0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 762,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"resize-handle s\",\n                onMouseDown: e => handleResizeMouseDown(e, 's'),\n                title: \"\\u62D6\\u62FD\\u8C03\\u6574\\u5927\\u5C0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 763,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"resize-handle sw\",\n                onMouseDown: e => handleResizeMouseDown(e, 'sw'),\n                title: \"\\u62D6\\u62FD\\u8C03\\u6574\\u5927\\u5C0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 764,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"resize-handle w\",\n                onMouseDown: e => handleResizeMouseDown(e, 'w'),\n                title: \"\\u62D6\\u62FD\\u8C03\\u6574\\u5927\\u5C0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 765,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 733,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `selection-overlay ${isSelecting ? 'selecting' : ''}`,\n              children: selection && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"selection-box\",\n                style: {\n                  left: selection.left,\n                  top: selection.top,\n                  width: selection.width,\n                  height: selection.height\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 771,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 769,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 639,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"issues-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"issues-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"issues-title\",\n            children: [\"\\u95EE\\u9898\\u5217\\u8868 (\", issues.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"export-button\",\n            onClick: exportToReport,\n            disabled: issues.length === 0,\n            children: \"\\u5BFC\\u51FA\\u8D70\\u67E5\\u62A5\\u544A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 789,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 787,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"issues-list\",\n          children: issues.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              color: '#666',\n              marginTop: '50px'\n            },\n            children: [\"\\u6682\\u65E0\\u95EE\\u9898\\u8BB0\\u5F55\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 798,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"\\u4E0A\\u4F20\\u8BBE\\u8BA1\\u56FE\\u540E\\uFF0C\\u70B9\\u51FB\\\"\\u5F00\\u59CB\\u6846\\u9009\\\"\\u6765\\u6807\\u8BB0\\u95EE\\u9898\\u533A\\u57DF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 799,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 796,\n            columnNumber: 15\n          }, this) : issues.map(issue => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"issue-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"issue-screenshot\",\n              src: issue.screenshot,\n              alt: \"\\u95EE\\u9898\\u622A\\u56FE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 804,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"issue-description\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"issue-label\",\n                children: \"\\u95EE\\u9898\\u63CF\\u8FF0:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 810,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"issue-text\",\n                children: issue.description || '无描述'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 811,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 809,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"issue-suggestion\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"issue-label\",\n                children: \"\\u4FEE\\u6539\\u5EFA\\u8BAE:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 814,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"issue-text\",\n                children: issue.suggestion || '无建议'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 815,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 813,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"issue-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"edit-button\",\n                onClick: () => editIssue(issue),\n                children: \"\\u7F16\\u8F91\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 818,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-button\",\n                onClick: () => deleteIssue(issue.id),\n                children: \"\\u5220\\u9664\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 821,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 817,\n              columnNumber: 19\n            }, this)]\n          }, issue.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 803,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 794,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 786,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 638,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"modal-title\",\n          children: editingIssueId ? '编辑问题' : '添加问题'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 835,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"modal-screenshot\",\n          src: modalScreenshot,\n          alt: \"\\u622A\\u56FE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 839,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"\\u95EE\\u9898\\u63CF\\u8FF0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 846,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"form-textarea\",\n            value: currentIssue.description,\n            onChange: e => setCurrentIssue({\n              ...currentIssue,\n              description: e.target.value\n            }),\n            placeholder: \"\\u8BF7\\u5177\\u4F53\\u63CF\\u8FF0\\u53D1\\u73B0\\u7684\\u95EE\\u9898\\uFF0C\\u5982\\uFF1A\\u6309\\u94AE\\u989C\\u8272\\u4E0D\\u5BF9\\u3001\\u6587\\u5B57\\u5927\\u5C0F\\u4E0D\\u7B26\\u5408\\u8BBE\\u8BA1\\u7A3F\\u7B49\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 847,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-placeholder\",\n            children: \"\\u63D0\\u793A\\uFF1A\\u8BF7\\u8BE6\\u7EC6\\u63CF\\u8FF0\\u95EE\\u9898\\uFF0C\\u4FBF\\u4E8E\\u5F00\\u53D1\\u4EBA\\u5458\\u7406\\u89E3\\u548C\\u4FEE\\u6539\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 853,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 845,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"\\u4FEE\\u6539\\u5EFA\\u8BAE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 859,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"form-textarea\",\n            value: currentIssue.suggestion,\n            onChange: e => setCurrentIssue({\n              ...currentIssue,\n              suggestion: e.target.value\n            }),\n            placeholder: \"\\u8BF7\\u63D0\\u4F9B\\u5177\\u4F53\\u7684\\u4FEE\\u6539\\u5EFA\\u8BAE\\uFF0C\\u5982\\uFF1A\\u989C\\u8272\\u6539\\u4E3A#FF0000\\u3001\\u5B57\\u4F53\\u5927\\u5C0F\\u6539\\u4E3A16px\\u7B49\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 860,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-placeholder\",\n            children: \"\\u63D0\\u793A\\uFF1A\\u8BF7\\u63D0\\u4F9B\\u5177\\u4F53\\u7684\\u6570\\u503C\\u548C\\u53C2\\u6570\\uFF0C\\u4FBF\\u4E8E\\u5F00\\u53D1\\u4EBA\\u5458\\u7CBE\\u786E\\u4FEE\\u6539\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 858,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-button secondary\",\n            onClick: () => {\n              setShowModal(false);\n              setSelection(null);\n              setSelectionStart(null);\n              setCurrentIssue({\n                description: '',\n                suggestion: ''\n              });\n              setEditingIssueId(null);\n            },\n            children: \"\\u53D6\\u6D88\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 872,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-button primary\",\n            onClick: saveIssue,\n            children: editingIssueId ? '保存修改' : '添加问题'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 884,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 871,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 834,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 833,\n      columnNumber: 9\n    }, this), showSizeSelector && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal size-selector-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"modal-title\",\n          children: \"\\u9009\\u62E9\\u9875\\u9762\\u5C3A\\u5BF8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 896,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"size-presets\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u5E38\\u7528\\u5C3A\\u5BF8\\uFF1A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 899,\n            columnNumber: 15\n          }, this), sizePresets.map((preset, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"preset-button\",\n            onClick: () => selectPresetSize(preset),\n            children: preset.name\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 901,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 898,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom-size\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u81EA\\u5B9A\\u4E49\\u5C3A\\u5BF8\\uFF1A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 912,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"custom-inputs\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              placeholder: \"\\u5BBD\\u5EA6\",\n              value: customSize.width,\n              onChange: e => setCustomSize({\n                ...customSize,\n                width: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 914,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              placeholder: \"\\u9AD8\\u5EA6\",\n              value: customSize.height,\n              onChange: e => setCustomSize({\n                ...customSize,\n                height: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 921,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"apply-button\",\n              onClick: applyCustomSize,\n              children: \"\\u5E94\\u7528\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 927,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 913,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 911,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-button secondary\",\n            onClick: () => {\n              setShowSizeSelector(false);\n              setCustomSize({\n                width: '',\n                height: ''\n              });\n            },\n            children: \"\\u53D6\\u6D88\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 934,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 933,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 895,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 894,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 623,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"jnqHb2oAwSCcAuOIVVENtyckUWo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useCallback","html2canvas","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","url","setUrl","currentUrl","setCurrentUrl","designImage","setDesignImage","imageOpacity","setImageOpacity","imageSize","setImageSize","width","height","imageAspectRatio","setImageAspectRatio","imagePosition","setImagePosition","x","y","isDragging","setIsDragging","isResizing","setIsResizing","dragStart","setDragStart","resizeStart","setResizeStart","isSelecting","setIsSelecting","selection","setSelection","selectionStart","setSelectionStart","issues","setIssues","showModal","setShowModal","modalScreenshot","setModalScreenshot","currentIssue","setCurrentIssue","description","suggestion","editingIssueId","setEditingIssueId","pageSize","setPageSize","autoScale","setAutoScale","scaleAdjustment","setScaleAdjustment","showSizeSelector","setShowSizeSelector","customSize","setCustomSize","previewRef","fileInputRef","iframeRef","resizeObserver","sizePresets","name","finalScale","loadSavedSize","saved","localStorage","getItem","parsedSize","JSON","parse","error","console","warn","savePageSize","size","setItem","stringify","loadUrl","trim","handleIframeLoad","current","contentWindow","iframeDoc","contentDocument","document","body","html","documentElement","Math","max","scrollWidth","offsetWidth","clientWidth","scrollHeight","offsetHeight","clientHeight","detectedSize","log","calculateAutoScale","container","containerRect","getBoundingClientRect","availableWidth","availableHeight","scaleX","scaleY","newAutoScale","min","adjustScale","factor","prev","resetScale","selectPresetSize","preset","newSize","applyCustomSize","parseInt","alert","handleImageUpload","event","file","target","files","reader","FileReader","onload","e","img","Image","result","aspectRatio","maxWidth","maxHeight","scale","round","src","readAsDataURL","triggerImageUpload","click","removeDesignImage","value","handleImageMouseDown","classList","contains","preventDefault","stopPropagation","clientX","clientY","handleResizeMouseDown","direction","startSize","startPosition","handleMouseMove","deltaX","deltaY","delta","newWidth","newHeight","newX","newY","includes","rect","currentX","left","currentY","top","abs","handleMouseUp","canvas","useCORS","allowTaint","screenshot","toDataURL","useEffect","addEventListener","removeEventListener","handleWindowResize","window","ResizeObserver","observe","disconnect","startSelection","cancelSelection","handlePreviewMouseDown","saveIssue","newIssue","id","Date","now","toString","status","map","issue","editIssue","deleteIssue","issueId","confirm","filter","compressImage","base64","quality","Promise","resolve","createElement","ctx","getContext","ratio","drawImage","compressedBase64","exportToReport","length","forEach","index","blob","Blob","type","URL","createObjectURL","a","href","download","toISOString","slice","appendChild","removeChild","revokeObjectURL","message","className","children","placeholder","onChange","onKeyPress","key","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","ref","accept","style","backgroundColor","step","parseFloat","color","onMouseDown","transform","transformOrigin","sandbox","onLoad","opacity","position","alt","draggable","objectFit","disabled","textAlign","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/钱阳/ui-inspection-tool-web/src/App.js"],"sourcesContent":["import React, { useState, useRef, useCallback } from 'react';\nimport html2canvas from 'html2canvas';\nimport './index.css';\n\nfunction App() {\n  const [url, setUrl] = useState('');\n  const [currentUrl, setCurrentUrl] = useState('');\n  const [designImage, setDesignImage] = useState(null);\n  const [imageOpacity, setImageOpacity] = useState(0.5);\n  const [imageSize, setImageSize] = useState({ width: 400, height: 300 });\n  const [imageAspectRatio, setImageAspectRatio] = useState(1);\n  const [imagePosition, setImagePosition] = useState({ x: 0, y: 0 });\n  const [isDragging, setIsDragging] = useState(false);\n  const [isResizing, setIsResizing] = useState(false);\n  const [dragStart, setDragStart] = useState(null);\n  const [resizeStart, setResizeStart] = useState(null);\n  const [isSelecting, setIsSelecting] = useState(false);\n  const [selection, setSelection] = useState(null);\n  const [selectionStart, setSelectionStart] = useState(null);\n  const [issues, setIssues] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [modalScreenshot, setModalScreenshot] = useState(null);\n  const [currentIssue, setCurrentIssue] = useState({ description: '', suggestion: '' });\n  const [editingIssueId, setEditingIssueId] = useState(null);\n  const [pageSize, setPageSize] = useState({ width: 1440, height: 900 });\n  const [autoScale, setAutoScale] = useState(1);\n  const [scaleAdjustment, setScaleAdjustment] = useState(1);\n  const [showSizeSelector, setShowSizeSelector] = useState(false);\n  const [customSize, setCustomSize] = useState({ width: '', height: '' });\n\n  const previewRef = useRef();\n  const fileInputRef = useRef();\n  const iframeRef = useRef();\n  const resizeObserver = useRef(null);\n\n  // 页面尺寸预设\n  const sizePresets = [\n    { name: '1920×1080 (桌面)', width: 1920, height: 1080 },\n    { name: '1440×900 (常见)', width: 1440, height: 900 },\n    { name: '1366×768 (笔记本)', width: 1366, height: 768 },\n    { name: '1280×1024 (旧屏)', width: 1280, height: 1024 },\n    { name: '1600×900 (宽屏)', width: 1600, height: 900 }\n  ];\n\n  // 计算最终缩放比例\n  const finalScale = autoScale * scaleAdjustment;\n\n  // 从localStorage获取上次的页面尺寸\n  const loadSavedSize = useCallback(() => {\n    try {\n      const saved = localStorage.getItem('ui-inspector-page-size');\n      if (saved) {\n        const parsedSize = JSON.parse(saved);\n        setPageSize(parsedSize);\n      }\n    } catch (error) {\n      console.warn('无法加载保存的页面尺寸');\n    }\n  }, []);\n\n  // 保存页面尺寸到localStorage\n  const savePageSize = useCallback((size) => {\n    try {\n      localStorage.setItem('ui-inspector-page-size', JSON.stringify(size));\n    } catch (error) {\n      console.warn('无法保存页面尺寸');\n    }\n  }, []);\n\n  const loadUrl = () => {\n    if (url.trim()) {\n      setCurrentUrl(url.trim());\n      setScaleAdjustment(1); // 重置微调\n    }\n  };\n\n  // iframe加载完成，尝试获取页面真实尺寸\n  const handleIframeLoad = useCallback(() => {\n    try {\n      if (iframeRef.current && iframeRef.current.contentWindow) {\n        const iframeDoc = iframeRef.current.contentDocument || iframeRef.current.contentWindow.document;\n        if (iframeDoc && iframeDoc.body) {\n          // 同源情况：可以读取页面尺寸\n          const body = iframeDoc.body;\n          const html = iframeDoc.documentElement;\n          \n          const width = Math.max(\n            body.scrollWidth, body.offsetWidth,\n            html.clientWidth, html.scrollWidth, html.offsetWidth\n          );\n          const height = Math.max(\n            body.scrollHeight, body.offsetHeight,\n            html.clientHeight, html.scrollHeight, html.offsetHeight\n          );\n          \n          if (width > 0 && height > 0) {\n            const detectedSize = { width, height };\n            setPageSize(detectedSize);\n            savePageSize(detectedSize);\n            console.log('检测到页面尺寸:', detectedSize);\n            return;\n          }\n        }\n      }\n    } catch (error) {\n      // 跨域限制，显示尺寸选择器\n      console.log('跨域限制，显示尺寸选择器');\n      setShowSizeSelector(true);\n    }\n  }, [savePageSize]);\n\n  // 计算自动缩放比例\n  const calculateAutoScale = useCallback(() => {\n    if (previewRef.current) {\n      const container = previewRef.current;\n      const containerRect = container.getBoundingClientRect();\n      \n      // 减去padding的空间\n      const availableWidth = containerRect.width - 40; // 20px padding * 2\n      const availableHeight = containerRect.height - 40; // 20px padding * 2\n      \n      const scaleX = availableWidth / pageSize.width;\n      const scaleY = availableHeight / pageSize.height;\n      \n      // 取较小的比例以保证完整显示\n      const newAutoScale = Math.min(scaleX, scaleY, 1); // 最大不超过1\n      \n      setAutoScale(newAutoScale);\n    }\n  }, [pageSize.width, pageSize.height]);\n\n  // 缩放微调\n  const adjustScale = (factor) => {\n    setScaleAdjustment(prev => Math.max(0.1, Math.min(3, prev * factor)));\n  };\n\n  // 重置为自动比例\n  const resetScale = () => {\n    setScaleAdjustment(1);\n  };\n\n  // 选择预设尺寸\n  const selectPresetSize = (preset) => {\n    const newSize = { width: preset.width, height: preset.height };\n    setPageSize(newSize);\n    savePageSize(newSize);\n    setShowSizeSelector(false);\n  };\n\n  // 应用自定义尺寸\n  const applyCustomSize = () => {\n    const width = parseInt(customSize.width);\n    const height = parseInt(customSize.height);\n    \n    if (width > 0 && height > 0) {\n      const newSize = { width, height };\n      setPageSize(newSize);\n      savePageSize(newSize);\n      setShowSizeSelector(false);\n      setCustomSize({ width: '', height: '' });\n    } else {\n      alert('请输入有效的宽度和高度');\n    }\n  };\n\n  const handleImageUpload = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const img = new Image();\n        img.onload = () => {\n          setDesignImage(e.target.result);\n          \n          // 计算宽高比\n          const aspectRatio = img.width / img.height;\n          setImageAspectRatio(aspectRatio);\n          \n          // 设置初始尺寸\n          const maxWidth = 500;\n          const maxHeight = 400;\n          let width = img.width;\n          let height = img.height;\n          \n          // 如果图片太大，按比例缩小\n          if (width > maxWidth || height > maxHeight) {\n            const scaleX = maxWidth / width;\n            const scaleY = maxHeight / height;\n            const scale = Math.min(scaleX, scaleY);\n            width = Math.round(width * scale);\n            height = Math.round(height * scale);\n          }\n          \n          setImageSize({ width, height });\n          setImagePosition({ x: 100, y: 100 });\n        };\n        img.src = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const triggerImageUpload = () => {\n    fileInputRef.current.click();\n  };\n\n  const removeDesignImage = () => {\n    setDesignImage(null);\n    setImagePosition({ x: 0, y: 0 });\n    setImageSize({ width: 400, height: 300 });\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  const handleImageMouseDown = (e) => {\n    if (e.target.classList.contains('resize-handle')) return; // 避免和缩放冲突\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(true);\n    setDragStart({\n      x: e.clientX - imagePosition.x,\n      y: e.clientY - imagePosition.y\n    });\n  };\n\n  const handleResizeMouseDown = (e, direction) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsResizing(true);\n    \n    setResizeStart({\n      x: e.clientX,\n      y: e.clientY,\n      direction: direction,\n      startSize: { ...imageSize },\n      startPosition: { ...imagePosition }\n    });\n  };\n\n  const handleMouseMove = useCallback((e) => {\n    if (isDragging && dragStart) {\n      setImagePosition({\n        x: e.clientX - dragStart.x,\n        y: e.clientY - dragStart.y\n      });\n    }\n\n    if (isResizing && resizeStart) {\n      const deltaX = e.clientX - resizeStart.x;\n      const deltaY = e.clientY - resizeStart.y;\n      \n      // 计算主要的缩放变化（取X和Y的平均值以保持等比例）\n      const delta = (deltaX + deltaY) / 2;\n      let scale = 1 + (delta / 200); // 缩放敏感度\n      \n      // 根据不同方向调整缩放方向\n      switch (resizeStart.direction) {\n        case 'se': // 右下角\n          break; // 默认正向缩放\n        case 'nw': // 左上角\n          break; // 正向缩放\n        case 'sw': // 左下角\n          scale = 1 + ((-deltaX + deltaY) / 400);\n          break;\n        case 'ne': // 右上角\n          scale = 1 + ((deltaX - deltaY) / 400);\n          break;\n        case 'e': // 右边\n          scale = 1 + (deltaX / 200);\n          break;\n        case 'w': // 左边\n          scale = 1 + (-deltaX / 200);\n          break;\n        case 's': // 下边\n          scale = 1 + (deltaY / 200);\n          break;\n        case 'n': // 上边\n          scale = 1 + (-deltaY / 200);\n          break;\n        default:\n          break;\n      }\n      \n      // 限制缩放范围\n      scale = Math.max(0.2, Math.min(5, scale));\n      \n      // 计算新的等比例尺寸\n      let newWidth = Math.round(resizeStart.startSize.width * scale);\n      let newHeight = Math.round(newWidth / imageAspectRatio);\n      \n      // 最小尺寸限制\n      newWidth = Math.max(50, newWidth);\n      newHeight = Math.max(30, newHeight);\n      \n      // 根据缩放方向调整位置（确保对应的边固定不动）\n      let newX = resizeStart.startPosition.x;\n      let newY = resizeStart.startPosition.y;\n      \n      if (['nw', 'n', 'ne'].includes(resizeStart.direction)) {\n        // 上边固定，调整Y位置\n        newY = resizeStart.startPosition.y + (resizeStart.startSize.height - newHeight);\n      }\n      \n      if (['nw', 'w', 'sw'].includes(resizeStart.direction)) {\n        // 左边固定，调整X位置\n        newX = resizeStart.startPosition.x + (resizeStart.startSize.width - newWidth);\n      }\n      \n      setImageSize({ width: newWidth, height: newHeight });\n      setImagePosition({ x: newX, y: newY });\n    }\n\n    if (isSelecting && selectionStart) {\n      const rect = previewRef.current.getBoundingClientRect();\n      const currentX = e.clientX - rect.left;\n      const currentY = e.clientY - rect.top;\n      \n      setSelection({\n        left: Math.min(selectionStart.x, currentX),\n        top: Math.min(selectionStart.y, currentY),\n        width: Math.abs(currentX - selectionStart.x),\n        height: Math.abs(currentY - selectionStart.y)\n      });\n    }\n  }, [isDragging, dragStart, isResizing, resizeStart, isSelecting, selectionStart, imageAspectRatio]);\n\n  const handleMouseUp = useCallback(async () => {\n    setIsDragging(false);\n    setIsResizing(false);\n    setDragStart(null);\n    setResizeStart(null);\n    \n    if (isSelecting && selection && selection.width > 10 && selection.height > 10) {\n      setIsSelecting(false);\n      \n      try {\n        const canvas = await html2canvas(previewRef.current, {\n          useCORS: true,\n          allowTaint: true,\n          scale: 1\n        });\n        \n        const screenshot = canvas.toDataURL('image/png');\n        setModalScreenshot(screenshot);\n        setShowModal(true);\n        setCurrentIssue({ description: '', suggestion: '' });\n        setEditingIssueId(null);\n      } catch (error) {\n        console.error('截图失败:', error);\n        alert('截图失败，请重试');\n      }\n    }\n  }, [isSelecting, selection]);\n\n  React.useEffect(() => {\n    if (isDragging || isResizing || isSelecting) {\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n      \n      return () => {\n        document.removeEventListener('mousemove', handleMouseMove);\n        document.removeEventListener('mouseup', handleMouseUp);\n      };\n    }\n  }, [isDragging, isResizing, isSelecting, handleMouseMove, handleMouseUp]);\n\n  // 初始化时加载保存的尺寸\n  React.useEffect(() => {\n    loadSavedSize();\n  }, [loadSavedSize]);\n\n  // 监听容器和窗口尺寸变化（双保险）\n  React.useEffect(() => {\n    calculateAutoScale();\n    \n    const handleWindowResize = () => {\n      calculateAutoScale();\n    };\n    \n    // 窗口resize监听\n    window.addEventListener('resize', handleWindowResize);\n    \n    // ResizeObserver监听容器变化\n    if (previewRef.current && window.ResizeObserver) {\n      resizeObserver.current = new ResizeObserver(() => {\n        calculateAutoScale();\n      });\n      resizeObserver.current.observe(previewRef.current);\n    }\n    \n    return () => {\n      window.removeEventListener('resize', handleWindowResize);\n      if (resizeObserver.current) {\n        resizeObserver.current.disconnect();\n      }\n    };\n  }, [calculateAutoScale]);\n\n  // 页面尺寸变化时重新计算\n  React.useEffect(() => {\n    calculateAutoScale();\n  }, [pageSize, calculateAutoScale]);\n\n  const startSelection = () => {\n    setIsSelecting(true);\n    setSelection(null);\n  };\n\n  const cancelSelection = () => {\n    setIsSelecting(false);\n    setSelection(null);\n    setSelectionStart(null);\n  };\n\n  const handlePreviewMouseDown = (e) => {\n    if (isSelecting) {\n      const rect = previewRef.current.getBoundingClientRect();\n      setSelectionStart({\n        x: e.clientX - rect.left,\n        y: e.clientY - rect.top\n      });\n    }\n  };\n\n\n  const saveIssue = () => {\n    if (currentIssue.description.trim() || currentIssue.suggestion.trim()) {\n      const newIssue = {\n        id: editingIssueId || Date.now().toString(),\n        screenshot: modalScreenshot,\n        description: currentIssue.description,\n        suggestion: currentIssue.suggestion,\n        status: '未验收'\n      };\n\n      if (editingIssueId) {\n        setIssues(issues.map(issue => \n          issue.id === editingIssueId ? newIssue : issue\n        ));\n      } else {\n        setIssues([...issues, newIssue]);\n      }\n    }\n\n    setShowModal(false);\n    setSelection(null);\n    setSelectionStart(null);\n    setModalScreenshot(null);\n    setCurrentIssue({ description: '', suggestion: '' });\n    setEditingIssueId(null);\n  };\n\n  const editIssue = (issue) => {\n    setCurrentIssue({\n      description: issue.description,\n      suggestion: issue.suggestion\n    });\n    setModalScreenshot(issue.screenshot);\n    setEditingIssueId(issue.id);\n    setShowModal(true);\n  };\n\n  const deleteIssue = (issueId) => {\n    if (window.confirm('确定要删除这个问题吗？')) {\n      setIssues(issues.filter(issue => issue.id !== issueId));\n    }\n  };\n\n  // 将图片压缩为小尺寸缩略图\n  const compressImage = (base64, maxWidth = 150, maxHeight = 100, quality = 0.8) => {\n    return new Promise((resolve) => {\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n      const img = new Image();\n      \n      img.onload = () => {\n        // 计算压缩后的尺寸\n        let { width, height } = img;\n        const ratio = Math.min(maxWidth / width, maxHeight / height);\n        width = Math.round(width * ratio);\n        height = Math.round(height * ratio);\n        \n        canvas.width = width;\n        canvas.height = height;\n        \n        // 绘制压缩图片\n        ctx.drawImage(img, 0, 0, width, height);\n        \n        // 转为较低质量的base64\n        const compressedBase64 = canvas.toDataURL('image/jpeg', quality);\n        resolve(compressedBase64);\n      };\n      \n      img.src = base64;\n    });\n  };\n\n  const exportToReport = () => {\n    if (issues.length === 0) {\n      alert('没有问题记录可以导出');\n      return;\n    }\n\n    try {\n      // 直接使用原始图片，不压缩\n      let html = `\n        <html>\n        <head>\n          <meta charset=\"utf-8\">\n          <style>\n            body { \n              font-family: 'Microsoft YaHei', Arial, sans-serif; \n              margin: 40px;\n              line-height: 1.6;\n            }\n            .issue-item {\n              margin-bottom: 50px;\n              page-break-inside: avoid;\n              border: 1px solid #ddd;\n              border-radius: 8px;\n              padding: 25px;\n              background-color: #fafafa;\n            }\n            .issue-header {\n              background-color: #4472C4;\n              color: white;\n              padding: 18px 25px;\n              margin: -25px -25px 30px -25px;\n              border-radius: 7px 7px 0 0;\n              font-size: 42px;\n              font-weight: bold;\n              text-align: center;\n            }\n            .screenshot {\n              max-width: 600px;\n              height: auto;\n              border: 2px solid #ccc;\n              border-radius: 4px;\n              display: block;\n              margin: 20px auto;\n              box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n            }\n            .info-section {\n              margin-top: 25px;\n              background-color: #f8f9fa;\n              padding: 15px;\n              border-radius: 5px;\n            }\n            .info-label {\n              font-weight: bold;\n              color: #333;\n              margin-bottom: 15px;\n              font-size: 32px;\n            }\n            .info-content {\n              background-color: white;\n              padding: 25px;\n              border: 2px solid #ddd;\n              border-radius: 6px;\n              margin-bottom: 30px;\n              min-height: 80px;\n              font-size: 28px;\n              line-height: 2.0;\n            }\n          </style>\n        </head>\n        <body>\n      `;\n\n      issues.forEach((issue, index) => {\n        const status = issue.status || '未修改';\n        \n        html += `\n          <div class=\"issue-item\">\n            <div class=\"issue-header\">\n              问题 ${index + 1}\n            </div>\n            \n            <div style=\"text-align: center;\">\n              <img class=\"screenshot\" src=\"${issue.screenshot}\" alt=\"问题${index + 1}截图\" />\n            </div>\n            \n            <div class=\"info-section\">\n              <div class=\"info-label\">问题描述：</div>\n              <div class=\"info-content\">${issue.description || '无描述'}</div>\n              \n              <div class=\"info-label\">修改建议：</div>\n              <div class=\"info-content\">${issue.suggestion || '无建议'}</div>\n              \n              <div class=\"info-label\">验收状态：</div>\n              <div class=\"info-content\">未验收</div>\n            </div>\n          </div>\n        `;\n      });\n\n      html += `\n        </body>\n        </html>\n      `;\n\n      // 创建Blob并下载为.doc文件（Word兼容的HTML格式）\n      const blob = new Blob([html], { \n        type: 'application/msword;charset=utf-8' \n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `UI走查报告_${new Date().toISOString().slice(0, 10)}.doc`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n\n    } catch (error) {\n      console.error('导出Excel失败:', error);\n      alert('导出Excel失败，请重试：' + error.message);\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <div className=\"top-bar\">\n        <input\n          type=\"text\"\n          className=\"url-input\"\n          placeholder=\"请输入前端测试页面的URL地址...\"\n          value={url}\n          onChange={(e) => setUrl(e.target.value)}\n          onKeyPress={(e) => e.key === 'Enter' && loadUrl()}\n        />\n        <button className=\"load-button\" onClick={loadUrl}>\n          加载页面\n        </button>\n      </div>\n\n      <div className=\"main-content\">\n        <div className=\"preview-section\">\n          <div className=\"preview-controls\">\n            <div className=\"control-group\">\n              <label>页面尺寸:</label>\n              <span className=\"size-display\">{pageSize.width}×{pageSize.height}</span>\n              <button \n                className=\"size-button\" \n                onClick={() => setShowSizeSelector(true)}\n                title=\"修改页面尺寸\"\n              >\n                修改\n              </button>\n            </div>\n            \n            <div className=\"control-group\">\n              <label>缩放:</label>\n              <button className=\"scale-button\" onClick={() => adjustScale(0.9)} title=\"缩小\">-</button>\n              <span className=\"scale-display\">{Math.round(finalScale * 100)}%</span>\n              <button className=\"scale-button\" onClick={() => adjustScale(1.1)} title=\"放大\">+</button>\n              <button className=\"reset-button\" onClick={resetScale} title=\"重置缩放\">重置</button>\n            </div>\n            \n            <input\n              type=\"file\"\n              ref={fileInputRef}\n              className=\"file-input\"\n              accept=\"image/*\"\n              onChange={handleImageUpload}\n            />\n            <button className=\"upload-button\" onClick={triggerImageUpload}>\n              上传设计图\n            </button>\n            {designImage && (\n              <>\n                <button className=\"upload-button\" onClick={removeDesignImage} style={{backgroundColor: '#dc3545'}}>\n                  删除设计图\n                </button>\n                <div className=\"control-group\">\n                  <label>透明度:</label>\n                  <input\n                    type=\"range\"\n                    className=\"control-slider\"\n                    min=\"0\"\n                    max=\"1\"\n                    step=\"0.1\"\n                    value={imageOpacity}\n                    onChange={(e) => setImageOpacity(parseFloat(e.target.value))}\n                  />\n                  <span>{Math.round(imageOpacity * 100)}%</span>\n                </div>\n                <button \n                  className=\"upload-button\" \n                  onClick={isSelecting ? cancelSelection : startSelection}\n                  style={{backgroundColor: isSelecting ? '#dc3545' : '#ffc107', color: isSelecting ? 'white' : '#212529'}}\n                >\n                  {isSelecting ? '取消框选' : '开始框选'}\n                </button>\n              </>\n            )}\n          </div>\n\n\n          <div \n            className=\"preview-container\" \n            id=\"previewArea\"\n            ref={previewRef}\n            onMouseDown={handlePreviewMouseDown}\n          >\n            <div \n              className=\"iframe-wrapper\"\n              id=\"frameWrapper\"\n              style={{\n                width: pageSize.width,\n                height: pageSize.height,\n                transform: `scale(${finalScale})`,\n                transformOrigin: 'top left'\n              }}\n            >\n              {currentUrl && (\n                <iframe\n                  ref={iframeRef}\n                  className=\"preview-iframe\"\n                  src={currentUrl}\n                  title=\"网页预览\"\n                  sandbox=\"allow-same-origin allow-scripts allow-forms\"\n                  onLoad={handleIframeLoad}\n                  style={{\n                    width: pageSize.width,\n                    height: pageSize.height\n                  }}\n                />\n              )}\n              \n              {designImage && (\n              <div\n                className={`design-overlay ${isDragging ? 'dragging' : ''} ${isResizing ? 'resizing' : ''}`}\n                style={{\n                  left: imagePosition.x,\n                  top: imagePosition.y,\n                  width: imageSize.width,\n                  height: imageSize.height,\n                  opacity: imageOpacity,\n                  position: 'absolute'\n                }}\n                onMouseDown={handleImageMouseDown}\n              >\n                <img\n                  className=\"design-image\"\n                  src={designImage}\n                  alt=\"设计图\"\n                  draggable={false}\n                  style={{ \n                    width: '100%',\n                    height: '100%',\n                    objectFit: 'contain' // 保持宽高比\n                  }}\n                />\n                \n                {/* 8个缩放控制点 */}\n                <div className=\"resize-handle nw\" onMouseDown={(e) => handleResizeMouseDown(e, 'nw')} title=\"拖拽调整大小\" />\n                <div className=\"resize-handle n\" onMouseDown={(e) => handleResizeMouseDown(e, 'n')} title=\"拖拽调整大小\" />\n                <div className=\"resize-handle ne\" onMouseDown={(e) => handleResizeMouseDown(e, 'ne')} title=\"拖拽调整大小\" />\n                <div className=\"resize-handle e\" onMouseDown={(e) => handleResizeMouseDown(e, 'e')} title=\"拖拽调整大小\" />\n                <div className=\"resize-handle se\" onMouseDown={(e) => handleResizeMouseDown(e, 'se')} title=\"拖拽调整大小\" />\n                <div className=\"resize-handle s\" onMouseDown={(e) => handleResizeMouseDown(e, 's')} title=\"拖拽调整大小\" />\n                <div className=\"resize-handle sw\" onMouseDown={(e) => handleResizeMouseDown(e, 'sw')} title=\"拖拽调整大小\" />\n                <div className=\"resize-handle w\" onMouseDown={(e) => handleResizeMouseDown(e, 'w')} title=\"拖拽调整大小\" />\n              </div>\n            )}\n\n            <div className={`selection-overlay ${isSelecting ? 'selecting' : ''}`}>\n              {selection && (\n                <div\n                  className=\"selection-box\"\n                  style={{\n                    left: selection.left,\n                    top: selection.top,\n                    width: selection.width,\n                    height: selection.height\n                  }}\n                />\n              )}\n            </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"issues-panel\">\n          <div className=\"issues-header\">\n            <h3 className=\"issues-title\">问题列表 ({issues.length})</h3>\n            <button className=\"export-button\" onClick={exportToReport} disabled={issues.length === 0}>\n              导出走查报告\n            </button>\n          </div>\n          \n          <div className=\"issues-list\">\n            {issues.length === 0 ? (\n              <div style={{ textAlign: 'center', color: '#666', marginTop: '50px' }}>\n                暂无问题记录\n                <br />\n                <small>上传设计图后，点击\"开始框选\"来标记问题区域</small>\n              </div>\n            ) : (\n              issues.map((issue) => (\n                <div key={issue.id} className=\"issue-item\">\n                  <img\n                    className=\"issue-screenshot\"\n                    src={issue.screenshot}\n                    alt=\"问题截图\"\n                  />\n                  <div className=\"issue-description\">\n                    <div className=\"issue-label\">问题描述:</div>\n                    <div className=\"issue-text\">{issue.description || '无描述'}</div>\n                  </div>\n                  <div className=\"issue-suggestion\">\n                    <div className=\"issue-label\">修改建议:</div>\n                    <div className=\"issue-text\">{issue.suggestion || '无建议'}</div>\n                  </div>\n                  <div className=\"issue-actions\">\n                    <button className=\"edit-button\" onClick={() => editIssue(issue)}>\n                      编辑\n                    </button>\n                    <button className=\"delete-button\" onClick={() => deleteIssue(issue.id)}>\n                      删除\n                    </button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      </div>\n\n      {showModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <h3 className=\"modal-title\">\n              {editingIssueId ? '编辑问题' : '添加问题'}\n            </h3>\n            \n            <img\n              className=\"modal-screenshot\"\n              src={modalScreenshot}\n              alt=\"截图\"\n            />\n\n            <div className=\"form-group\">\n              <label className=\"form-label\">问题描述</label>\n              <textarea\n                className=\"form-textarea\"\n                value={currentIssue.description}\n                onChange={(e) => setCurrentIssue({...currentIssue, description: e.target.value})}\n                placeholder=\"请具体描述发现的问题，如：按钮颜色不对、文字大小不符合设计稿等\"\n              />\n              <div className=\"form-placeholder\">\n                提示：请详细描述问题，便于开发人员理解和修改\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <label className=\"form-label\">修改建议</label>\n              <textarea\n                className=\"form-textarea\"\n                value={currentIssue.suggestion}\n                onChange={(e) => setCurrentIssue({...currentIssue, suggestion: e.target.value})}\n                placeholder=\"请提供具体的修改建议，如：颜色改为#FF0000、字体大小改为16px等\"\n              />\n              <div className=\"form-placeholder\">\n                提示：请提供具体的数值和参数，便于开发人员精确修改\n              </div>\n            </div>\n\n            <div className=\"modal-actions\">\n              <button \n                className=\"modal-button secondary\" \n                onClick={() => {\n                  setShowModal(false);\n                  setSelection(null);\n                  setSelectionStart(null);\n                  setCurrentIssue({ description: '', suggestion: '' });\n                  setEditingIssueId(null);\n                }}\n              >\n                取消\n              </button>\n              <button className=\"modal-button primary\" onClick={saveIssue}>\n                {editingIssueId ? '保存修改' : '添加问题'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* 尺寸选择器模态框 */}\n      {showSizeSelector && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal size-selector-modal\">\n            <h3 className=\"modal-title\">选择页面尺寸</h3>\n            \n            <div className=\"size-presets\">\n              <p>常用尺寸：</p>\n              {sizePresets.map((preset, index) => (\n                <button\n                  key={index}\n                  className=\"preset-button\"\n                  onClick={() => selectPresetSize(preset)}\n                >\n                  {preset.name}\n                </button>\n              ))}\n            </div>\n\n            <div className=\"custom-size\">\n              <p>自定义尺寸：</p>\n              <div className=\"custom-inputs\">\n                <input\n                  type=\"number\"\n                  placeholder=\"宽度\"\n                  value={customSize.width}\n                  onChange={(e) => setCustomSize({...customSize, width: e.target.value})}\n                />\n                <span>×</span>\n                <input\n                  type=\"number\"\n                  placeholder=\"高度\"\n                  value={customSize.height}\n                  onChange={(e) => setCustomSize({...customSize, height: e.target.value})}\n                />\n                <button className=\"apply-button\" onClick={applyCustomSize}>\n                  应用\n                </button>\n              </div>\n            </div>\n\n            <div className=\"modal-actions\">\n              <button \n                className=\"modal-button secondary\" \n                onClick={() => {\n                  setShowSizeSelector(false);\n                  setCustomSize({ width: '', height: '' });\n                }}\n              >\n                取消\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}