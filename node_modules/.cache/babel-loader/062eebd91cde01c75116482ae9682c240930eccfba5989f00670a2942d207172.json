{"ast":null,"code":"import _objectSpread from\"C:/Users/\\u94B1\\u9633/ui-inspection-tool-web-en/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useCallback}from'react';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[url,setUrl]=useState('');const[currentUrl,setCurrentUrl]=useState('');const[designImage,setDesignImage]=useState(null);const[imageOpacity,setImageOpacity]=useState(0.5);const[imageSize,setImageSize]=useState({width:400,height:300});const[imagePosition,setImagePosition]=useState({x:0,y:0});const[imageScale,setImageScale]=useState(1);const[imageTransformOrigin,setImageTransformOrigin]=useState('center center');const[isDragging,setIsDragging]=useState(false);const[isResizing,setIsResizing]=useState(false);const[dragStart,setDragStart]=useState(null);const[resizeStart,setResizeStart]=useState(null);const[isSelecting,setIsSelecting]=useState(false);const[selection,setSelection]=useState(null);const[selectionStart,setSelectionStart]=useState(null);const[issues,setIssues]=useState([]);const[showModal,setShowModal]=useState(false);const[modalScreenshot,setModalScreenshot]=useState(null);const[currentIssue,setCurrentIssue]=useState({description:'',suggestion:''});const[editingIssueId,setEditingIssueId]=useState(null);const[designSize,setDesignSize]=useState({width:1440,height:900});const[showScreenshotTip,setShowScreenshotTip]=useState(false);const previewRef=useRef();const fileInputRef=useRef();const iframeRef=useRef();// Common web design dimensions\nconst designSizePresets=[{name:'1440×900 (Mainstream)',width:1440,height:900},{name:'1920×1080 (Desktop)',width:1920,height:1080},{name:'1366×768 (Laptop)',width:1366,height:768},{name:'1280×720 (Small Screen)',width:1280,height:720},{name:'1600×900 (Widescreen)',width:1600,height:900}];const loadUrl=()=>{if(url.trim()){setCurrentUrl(url.trim());}};const clearPage=()=>{setUrl('');setCurrentUrl('');setDesignImage(null);setImagePosition({x:0,y:0});setImageSize({width:400,height:300});setImageScale(1);setImageTransformOrigin('center center');setSelection(null);setSelectionStart(null);setIsSelecting(false);if(fileInputRef.current){fileInputRef.current.value='';}};// Switch design dimensions\nconst handleDesignSizeChange=event=>{const selectedIndex=event.target.value;const selectedPreset=designSizePresets[selectedIndex];setDesignSize({width:selectedPreset.width,height:selectedPreset.height});};const handleImageUpload=event=>{const file=event.target.files[0];if(file){// Check file size (10MB = 10 * 1024 * 1024 bytes)\nconst maxSize=10*1024*1024;if(file.size>maxSize){alert(\"Image file too large (\".concat((file.size/1024/1024).toFixed(1),\"MB), please select an image smaller than 10MB\"));event.target.value='';// Clear file selection\nreturn;}const reader=new FileReader();reader.onload=e=>{const img=new Image();img.onload=()=>{setDesignImage(e.target.result);// Set initial dimensions\nconst maxWidth=500;const maxHeight=400;let width=img.width;let height=img.height;// If image is too large, scale it down proportionally\nif(width>maxWidth||height>maxHeight){const scaleX=maxWidth/width;const scaleY=maxHeight/height;const scale=Math.min(scaleX,scaleY);width=Math.round(width*scale);height=Math.round(height*scale);}setImageSize({width,height});setImagePosition({x:100,y:100});};img.src=e.target.result;};reader.readAsDataURL(file);}};const triggerImageUpload=()=>{fileInputRef.current.click();};const removeDesignImage=()=>{setDesignImage(null);setImagePosition({x:0,y:0});setImageSize({width:400,height:300});setImageScale(1);setImageTransformOrigin('center center');if(fileInputRef.current){fileInputRef.current.value='';}};const handleImageMouseDown=e=>{// Check if click is on resize handle\nif(e.target.classList.contains('resize-handle')||e.target.closest('.resize-handle')){return;// Avoid conflict with resizing\n}// Ensure clicking on the image itself or image container\nif(!e.target.classList.contains('design-image')&&!e.target.classList.contains('design-overlay')){return;}e.preventDefault();e.stopPropagation();// Add stricter state checking\nif(isResizing||isSelecting){return;}setIsDragging(true);setDragStart({x:e.clientX-imagePosition.x,y:e.clientY-imagePosition.y});};const handleResizeMouseDown=(e,direction)=>{e.preventDefault();e.stopPropagation();// Only prevent selection mode, allow switching to resize during dragging\nif(isSelecting){return;}// Clean up other states\nsetIsDragging(false);setDragStart(null);setIsResizing(true);// Set transform-origin based on direction\nlet origin='center center';switch(direction){case'nw':origin='bottom right';break;case'ne':origin='bottom left';break;case'sw':origin='top right';break;case'se':origin='top left';break;case'n':origin='bottom center';break;case's':origin='top center';break;case'w':origin='right center';break;case'e':origin='left center';break;}setImageTransformOrigin(origin);setResizeStart({x:e.clientX,y:e.clientY,direction:direction,startScale:imageScale});};const handleMouseMove=useCallback(e=>{// Handle dragging directly\nif(isDragging&&dragStart){const newX=e.clientX-dragStart.x;const newY=e.clientY-dragStart.y;setImagePosition({x:newX,y:newY});return;}// Handle selection directly\nif(isSelecting&&selectionStart){var _previewRef$current;const rect=(_previewRef$current=previewRef.current)===null||_previewRef$current===void 0?void 0:_previewRef$current.getBoundingClientRect();if(rect){const currentX=e.clientX-rect.left;const currentY=e.clientY-rect.top;setSelection({left:Math.min(selectionStart.x,currentX),top:Math.min(selectionStart.y,currentY),width:Math.abs(currentX-selectionStart.x),height:Math.abs(currentY-selectionStart.y)});}return;}// Handle resize using transform scaling\nif(isResizing&&resizeStart){const deltaX=e.clientX-resizeStart.x;const deltaY=e.clientY-resizeStart.y;// Calculate scale change based on drag direction - improve sensitivity\nlet scaleChange=0;const sensitivity=100;// Lower value increases sensitivity\nswitch(resizeStart.direction){case'se':// Bottom right - drag down-right to enlarge\nscaleChange=Math.max(deltaX,deltaY)/sensitivity;break;case'nw':// Top left - drag up-left to enlarge\nscaleChange=Math.max(-deltaX,-deltaY)/sensitivity;break;case'ne':// Top right - drag up-right to enlarge\nscaleChange=Math.max(deltaX,-deltaY)/sensitivity;break;case'sw':// Bottom left - drag down-left to enlarge\nscaleChange=Math.max(-deltaX,deltaY)/sensitivity;break;case'e':// Right side - drag right to enlarge\nscaleChange=deltaX/sensitivity;break;case'w':// Left side - drag left to enlarge\nscaleChange=-deltaX/sensitivity;break;case's':// Bottom side - drag down to enlarge\nscaleChange=deltaY/sensitivity;break;case'n':// Top side - drag up to enlarge\nscaleChange=-deltaY/sensitivity;break;}// Calculate new scale value with larger range\nconst newScale=Math.max(0.1,Math.min(10,resizeStart.startScale+scaleChange));setImageScale(newScale);}},[isDragging,dragStart,isResizing,resizeStart,isSelecting,selectionStart]);const handleMouseUp=useCallback(async()=>{// Save current state\nconst wasDragging=isDragging;const wasResizing=isResizing;const wasSelecting=isSelecting;// Immediately clean up all states to prevent state residue\nsetIsDragging(false);setIsResizing(false);setDragStart(null);setResizeStart(null);if(wasResizing){// Reset transform-origin after resizing\nsetTimeout(()=>setImageTransformOrigin('center center'),50);}// No processing after selection completion, wait for user to click button\nif(wasSelecting&&selection&&selection.width>10&&selection.height>10){setIsSelecting(false);}},[isSelecting,selection]);React.useEffect(()=>{if(isDragging||isResizing||isSelecting){const handleGlobalMouseMove=e=>{handleMouseMove(e);};const handleGlobalMouseUp=e=>{handleMouseUp(e);};// Add global event listeners, including window events\ndocument.addEventListener('mousemove',handleGlobalMouseMove);document.addEventListener('mouseup',handleGlobalMouseUp);window.addEventListener('blur',handleGlobalMouseUp);// Clean up when window loses focus\ndocument.addEventListener('mouseleave',handleGlobalMouseUp);// Clean up when mouse leaves document\nreturn()=>{document.removeEventListener('mousemove',handleGlobalMouseMove);document.removeEventListener('mouseup',handleGlobalMouseUp);window.removeEventListener('blur',handleGlobalMouseUp);document.removeEventListener('mouseleave',handleGlobalMouseUp);};}},[isDragging,isResizing,isSelecting,handleMouseMove,handleMouseUp]);// Listen for selection completion, show screenshot tip\nReact.useEffect(()=>{if(!isSelecting&&selection&&selection.width>10&&selection.height>10){// After selection completion, show screenshot tip\nsetShowScreenshotTip(true);// Highlight preview area (red frame stays visible)\nif(previewRef.current){previewRef.current.style.boxShadow='0 0 0 4px #ff0000';previewRef.current.style.transition='box-shadow 0.3s ease';}// Don't auto-hide tip, let user take action\n}},[isSelecting,selection]);const startSelection=()=>{setIsSelecting(true);setSelection(null);};const cancelSelection=()=>{setIsSelecting(false);setSelection(null);setSelectionStart(null);// Only remove red frame highlight and tip when clearing selection\nsetShowScreenshotTip(false);if(previewRef.current){previewRef.current.style.boxShadow='';}};// Close screenshot tip (but keep red frame visible)\nconst closeScreenshotTip=()=>{setShowScreenshotTip(false);// Don't remove red frame highlight, keep it visible until user clears selection\n};// Handle clipboard screenshot paste\nconst handlePasteScreenshot=async()=>{try{const clipboardItems=await navigator.clipboard.read();for(const item of clipboardItems){if(item.types.includes('image/png')){const blob=await item.getType('image/png');const reader=new FileReader();reader.onload=e=>{setModalScreenshot(e.target.result);// Close tip but keep red frame (frame will be cleared when user clears selection or saves issue)\nsetShowScreenshotTip(false);setShowModal(true);};reader.readAsDataURL(blob);return;}}// If no image found, alert user\nalert('No image found in clipboard, please take a screenshot first using Win+Shift+S');}catch(error){console.error('Failed to read clipboard:',error);alert('Unable to access clipboard, please take a screenshot using Win+Shift+S first and retry');}};// Start screenshot mode\nconst startScreenshot=()=>{setIsSelecting(true);setSelection(null);setSelectionStart(null);};const handlePreviewMouseDown=e=>{if(isSelecting){const rect=previewRef.current.getBoundingClientRect();setSelectionStart({x:e.clientX-rect.left,y:e.clientY-rect.top});}};const saveIssue=()=>{if(currentIssue.description.trim()||currentIssue.suggestion.trim()){const newIssue={id:editingIssueId||Date.now().toString(),screenshot:modalScreenshot,description:currentIssue.description,suggestion:currentIssue.suggestion,status:'Pending'};if(editingIssueId){setIssues(issues.map(issue=>issue.id===editingIssueId?newIssue:issue));}else{setIssues([...issues,newIssue]);}}setShowModal(false);setSelection(null);setSelectionStart(null);setModalScreenshot(null);setCurrentIssue({description:'',suggestion:''});setEditingIssueId(null);// Clear red frame highlight after saving issue\nif(previewRef.current){previewRef.current.style.boxShadow='';}};const editIssue=issue=>{setCurrentIssue({description:issue.description,suggestion:issue.suggestion});setModalScreenshot(issue.screenshot);setEditingIssueId(issue.id);setShowModal(true);};const deleteIssue=issueId=>{if(window.confirm('Are you sure you want to delete this issue?')){setIssues(issues.filter(issue=>issue.id!==issueId));}};// Compress image to small thumbnail\nconst compressImage=function(base64){let maxWidth=arguments.length>1&&arguments[1]!==undefined?arguments[1]:150;let maxHeight=arguments.length>2&&arguments[2]!==undefined?arguments[2]:100;let quality=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0.8;return new Promise(resolve=>{const canvas=document.createElement('canvas');const ctx=canvas.getContext('2d');const img=new Image();img.onload=()=>{// Calculate compressed dimensions\nlet{width,height}=img;const ratio=Math.min(maxWidth/width,maxHeight/height);width=Math.round(width*ratio);height=Math.round(height*ratio);canvas.width=width;canvas.height=height;// Draw compressed image\nctx.drawImage(img,0,0,width,height);// Convert to lower quality base64\nconst compressedBase64=canvas.toDataURL('image/jpeg',quality);resolve(compressedBase64);};img.src=base64;});};const exportToReport=()=>{if(issues.length===0){alert('No issues to export');return;}try{// Use original images without compression\nlet html=\"\\n        <html>\\n        <head>\\n          <meta charset=\\\"utf-8\\\">\\n          <style>\\n            body { \\n              font-family: 'Microsoft YaHei', Arial, sans-serif; \\n              margin: 40px;\\n              line-height: 1.6;\\n            }\\n            .issue-item {\\n              margin-bottom: 50px;\\n              page-break-inside: avoid;\\n              border: 1px solid #ddd;\\n              border-radius: 8px;\\n              padding: 25px;\\n              background-color: #fafafa;\\n            }\\n            .issue-header {\\n              background-color: #4472C4;\\n              color: white;\\n              padding: 18px 25px;\\n              margin: -25px -25px 30px -25px;\\n              border-radius: 7px 7px 0 0;\\n              font-size: 42px;\\n              font-weight: bold;\\n              text-align: center;\\n            }\\n            .screenshot {\\n              max-width: 600px;\\n              height: auto;\\n              border: 2px solid #ccc;\\n              border-radius: 4px;\\n              display: block;\\n              margin: 20px auto;\\n              box-shadow: 0 2px 8px rgba(0,0,0,0.1);\\n            }\\n            .info-section {\\n              margin-top: 25px;\\n              background-color: #f8f9fa;\\n              padding: 15px;\\n              border-radius: 5px;\\n            }\\n            .info-label {\\n              font-weight: bold;\\n              color: #333;\\n              margin-bottom: 15px;\\n              font-size: 32px;\\n            }\\n            .info-content {\\n              background-color: white;\\n              padding: 25px;\\n              border: 2px solid #ddd;\\n              border-radius: 6px;\\n              margin-bottom: 30px;\\n              min-height: 80px;\\n              font-size: 28px;\\n              line-height: 2.0;\\n            }\\n          </style>\\n        </head>\\n        <body>\\n      \";issues.forEach((issue,index)=>{const status=issue.status||'Pending';html+=\"\\n          <div class=\\\"issue-item\\\">\\n            <div class=\\\"issue-header\\\">\\n              Issue \".concat(index+1,\"\\n            </div>\\n            \\n            <div style=\\\"text-align: center;\\\">\\n              <img class=\\\"screenshot\\\" src=\\\"\").concat(issue.screenshot,\"\\\" alt=\\\"Issue \").concat(index+1,\" Screenshot\\\" />\\n            </div>\\n            \\n            <div class=\\\"info-section\\\">\\n              <div class=\\\"info-label\\\">Issue Description:</div>\\n              <div class=\\\"info-content\\\">\").concat(issue.description||'No description',\"</div>\\n              \\n              <div class=\\\"info-label\\\">Modification Suggestion:</div>\\n              <div class=\\\"info-content\\\">\").concat(issue.suggestion||'No suggestion',\"</div>\\n              \\n              <div class=\\\"info-label\\\">Review Status:</div>\\n              <div class=\\\"info-content\\\">Pending</div>\\n            </div>\\n          </div>\\n        \");});html+=\"\\n        </body>\\n        </html>\\n      \";// Create Blob and download as .doc file (Word-compatible HTML format)\nconst blob=new Blob([html],{type:'application/msword;charset=utf-8'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"UI_Inspection_Report_\".concat(new Date().toISOString().slice(0,10),\".doc\");document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);}catch(error){console.error('Export failed:',error);alert('Export failed, please retry: '+error.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-bar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"url-input\",placeholder:\"Please enter the frontend test page URL address...\",value:url,onChange:e=>setUrl(e.target.value),onKeyPress:e=>e.key==='Enter'&&loadUrl()}),/*#__PURE__*/_jsx(\"button\",{className:\"load-button\",onClick:loadUrl,children:\"Load Page\"}),/*#__PURE__*/_jsx(\"button\",{className:\"load-button\",onClick:clearPage,style:{backgroundColor:'#6c757d',marginLeft:'10px'},children:\"Clear Page\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"preview-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"preview-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Design Size:\"}),/*#__PURE__*/_jsx(\"select\",{className:\"design-size-selector\",onChange:handleDesignSizeChange,defaultValue:0,children:designSizePresets.map((preset,index)=>/*#__PURE__*/_jsx(\"option\",{value:index,children:preset.name},index))})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:fileInputRef,className:\"file-input\",accept:\".png,.jpg,.jpeg\",onChange:handleImageUpload}),/*#__PURE__*/_jsx(\"button\",{className:\"upload-button\",onClick:designImage?removeDesignImage:triggerImageUpload,style:{backgroundColor:designImage?'#dc3545':'#28a745'},title:designImage?'Delete current design image':'Supported formats: PNG, JPG, JPEG, max 10MB',children:designImage?'Delete Design':'Upload Design'}),/*#__PURE__*/_jsx(\"button\",{className:\"upload-button\",onClick:()=>{if(selection&&selection.width>10){// If there's already a selection, clear it (call cancelSelection to ensure red frame highlight is cleared)\ncancelSelection();}else if(isSelecting){// If selecting but no selection made, cancel selection\ncancelSelection();}else{// Start selection\nstartSelection();}},style:{backgroundColor:selection&&selection.width>10?'#6c757d':isSelecting?'#dc3545':'#ffc107',color:selection&&selection.width>10?'white':isSelecting?'white':'#212529'},title:selection&&selection.width>10?'Clear current selection area':isSelecting?'Cancel selection mode':'Manual selection of issue area',children:selection&&selection.width>10?'Clear Selection':isSelecting?'Cancel Selection':'Manual Selection'}),/*#__PURE__*/_jsx(\"button\",{className:\"ai-review-button\",disabled:true,title:\"Coming Soon\",children:\"\\uD83E\\uDD16 AI Review\"}),isSelecting&&!(selection&&selection.width>10)&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',marginLeft:'10px',alignSelf:'center'},children:\"Please drag to select issue area\"}),designImage&&/*#__PURE__*/_jsxs(\"div\",{className:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Transparency:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",className:\"control-slider\",min:\"0\",max:\"1\",step:\"0.1\",value:imageOpacity,onChange:e=>setImageOpacity(parseFloat(e.target.value))}),/*#__PURE__*/_jsxs(\"span\",{children:[Math.round((1-imageOpacity)*100),\"%\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"preview-container\",id:\"previewArea\",ref:previewRef,onMouseDown:handlePreviewMouseDown,children:/*#__PURE__*/_jsxs(\"div\",{className:\"iframe-wrapper\",id:\"frameWrapper\",style:{width:designSize.width,height:designSize.height},children:[currentUrl?/*#__PURE__*/_jsx(\"iframe\",{ref:iframeRef,className:\"preview-iframe\",src:currentUrl,title:\"Web Preview\",sandbox:\"allow-same-origin allow-scripts allow-forms\",style:{width:designSize.width,height:designSize.height}}):/*#__PURE__*/_jsx(\"div\",{className:\"empty-preview-placeholder\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"placeholder-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Welcome to UI Inspection Tool\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please paste the frontend test page URL in the input box above\"}),/*#__PURE__*/_jsx(\"p\",{className:\"placeholder-example\",children:\"Supports: http://localhost:3000, dev environment IPs, test environment domains, etc.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"placeholder-steps\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"step\",children:\"1. Enter frontend page URL\"}),/*#__PURE__*/_jsx(\"div\",{className:\"step\",children:\"2. Click \\\"Load Page\\\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"step\",children:\"3. Upload design image for comparison\"}),/*#__PURE__*/_jsx(\"div\",{className:\"step\",children:\"4. Use \\\"Manual Selection\\\" to mark issues\"}),/*#__PURE__*/_jsx(\"div\",{className:\"step\",children:\"5. Take screenshot and annotate issues\"}),/*#__PURE__*/_jsx(\"div\",{className:\"step\",children:\"6. Export report\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"placeholder-notice\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Note: This tool does not save user history records, but supports exporting inspection reports\"})})]})}),designImage&&/*#__PURE__*/_jsxs(\"div\",{className:\"design-overlay \".concat(isDragging?'dragging':'',\" \").concat(isResizing?'resizing':''),style:{left:imagePosition.x,top:imagePosition.y,width:imageSize.width,height:imageSize.height,opacity:imageOpacity,position:'absolute',transform:\"scale(\".concat(imageScale,\")\"),transformOrigin:imageTransformOrigin,transition:isResizing?'none':'transform 0.1s ease'},onMouseDown:handleImageMouseDown,children:[/*#__PURE__*/_jsx(\"img\",{className:\"design-image\",src:designImage,alt:\"Design Image\",draggable:false,style:{width:'100%',height:'100%',objectFit:'contain'}}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle nw\",onMouseDown:e=>handleResizeMouseDown(e,'nw'),title:\"Drag to resize\"}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle n\",onMouseDown:e=>handleResizeMouseDown(e,'n'),title:\"Drag to resize\"}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle ne\",onMouseDown:e=>handleResizeMouseDown(e,'ne'),title:\"Drag to resize\"}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle e\",onMouseDown:e=>handleResizeMouseDown(e,'e'),title:\"Drag to resize\"}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle se\",onMouseDown:e=>handleResizeMouseDown(e,'se'),title:\"Drag to resize\"}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle s\",onMouseDown:e=>handleResizeMouseDown(e,'s'),title:\"Drag to resize\"}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle sw\",onMouseDown:e=>handleResizeMouseDown(e,'sw'),title:\"Drag to resize\"}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle w\",onMouseDown:e=>handleResizeMouseDown(e,'w'),title:\"Drag to resize\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"selection-overlay \".concat(isSelecting?'selecting':''),children:selection&&/*#__PURE__*/_jsx(\"div\",{className:\"selection-box\",style:{left:selection.left,top:selection.top,width:selection.width,height:selection.height}})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"issues-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"issues-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"issues-title\",children:[\"Issue List (\",issues.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"export-button\",onClick:exportToReport,disabled:issues.length===0,children:\"Export Inspection Report\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"issues-list\",children:[selection&&selection.width>10&&/*#__PURE__*/_jsxs(\"div\",{className:\"paste-screenshot-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"paste-instruction\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCF8 Please take screenshot within the red frame area (Win+Shift+S), then click button below to paste\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"paste-screenshot-button\",onClick:handlePasteScreenshot,children:\"\\uD83D\\uDCCB Paste Screenshot\"})]}),issues.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',color:'#666',marginTop:'50px'},children:[\"No issues recorded yet\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:\"After uploading design image, click \\\"Manual Selection\\\" to mark issue areas\"})]}):issues.map(issue=>/*#__PURE__*/_jsxs(\"div\",{className:\"issue-item\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"issue-screenshot\",src:issue.screenshot,alt:\"Issue Screenshot\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"issue-description\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"issue-label\",children:\"Issue Description:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"issue-text\",children:issue.description||'No description'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"issue-suggestion\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"issue-label\",children:\"Modification Suggestion:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"issue-text\",children:issue.suggestion||'No suggestion'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"issue-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"edit-button\",onClick:()=>editIssue(issue),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-button\",onClick:()=>deleteIssue(issue.id),children:\"Delete\"})]})]},issue.id))]})]})]}),showScreenshotTip&&/*#__PURE__*/_jsx(\"div\",{className:\"screenshot-tip\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tip-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"tip-text\",children:\"\\uD83D\\uDCF8 You can take screenshot within the red frame area, please use Win+Shift+S, after screenshot is complete, click \\\"Paste Screenshot\\\" in the issue list\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tip-close\",onClick:closeScreenshotTip,children:\"\\xD7\"})]})}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"modal-title\",children:editingIssueId?'Edit Issue':'Add Issue'}),/*#__PURE__*/_jsx(\"img\",{className:\"modal-screenshot\",src:modalScreenshot,alt:\"Screenshot\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Issue Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-textarea\",value:currentIssue.description,onChange:e=>setCurrentIssue(_objectSpread(_objectSpread({},currentIssue),{},{description:e.target.value})),placeholder:\"Please describe the specific issue, e.g.: Button position 5px too left, title font size inconsistent, background color doesn't match design, etc.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-placeholder\",children:\"Tip: Please describe the issue in detail, including specific information about position, size, color, etc.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Modification Suggestion\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-textarea\",value:currentIssue.suggestion,onChange:e=>setCurrentIssue(_objectSpread(_objectSpread({},currentIssue),{},{suggestion:e.target.value})),placeholder:\"Please provide precise modification values, e.g.: Move button 5px to the right, change font size to 16px, change color to #1890FF, change line-height to 1.5, etc.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-placeholder\",children:\"Tip: Please provide specific pixel values, color values, font sizes and other precise values for developers to modify directly\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"modal-button secondary\",onClick:()=>{setShowModal(false);setSelection(null);setSelectionStart(null);setCurrentIssue({description:'',suggestion:''});setEditingIssueId(null);// Also clear red frame highlight when canceling\nif(previewRef.current){previewRef.current.style.boxShadow='';}},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-button primary\",onClick:saveIssue,children:editingIssueId?'Save Changes':'Add Issue'})]})]})})]});}export default App;","map":{"version":3,"names":["React","useState","useRef","useCallback","jsx","_jsx","jsxs","_jsxs","App","url","setUrl","currentUrl","setCurrentUrl","designImage","setDesignImage","imageOpacity","setImageOpacity","imageSize","setImageSize","width","height","imagePosition","setImagePosition","x","y","imageScale","setImageScale","imageTransformOrigin","setImageTransformOrigin","isDragging","setIsDragging","isResizing","setIsResizing","dragStart","setDragStart","resizeStart","setResizeStart","isSelecting","setIsSelecting","selection","setSelection","selectionStart","setSelectionStart","issues","setIssues","showModal","setShowModal","modalScreenshot","setModalScreenshot","currentIssue","setCurrentIssue","description","suggestion","editingIssueId","setEditingIssueId","designSize","setDesignSize","showScreenshotTip","setShowScreenshotTip","previewRef","fileInputRef","iframeRef","designSizePresets","name","loadUrl","trim","clearPage","current","value","handleDesignSizeChange","event","selectedIndex","target","selectedPreset","handleImageUpload","file","files","maxSize","size","alert","concat","toFixed","reader","FileReader","onload","e","img","Image","result","maxWidth","maxHeight","scaleX","scaleY","scale","Math","min","round","src","readAsDataURL","triggerImageUpload","click","removeDesignImage","handleImageMouseDown","classList","contains","closest","preventDefault","stopPropagation","clientX","clientY","handleResizeMouseDown","direction","origin","startScale","handleMouseMove","newX","newY","_previewRef$current","rect","getBoundingClientRect","currentX","left","currentY","top","abs","deltaX","deltaY","scaleChange","sensitivity","max","newScale","handleMouseUp","wasDragging","wasResizing","wasSelecting","setTimeout","useEffect","handleGlobalMouseMove","handleGlobalMouseUp","document","addEventListener","window","removeEventListener","style","boxShadow","transition","startSelection","cancelSelection","closeScreenshotTip","handlePasteScreenshot","clipboardItems","navigator","clipboard","read","item","types","includes","blob","getType","error","console","startScreenshot","handlePreviewMouseDown","saveIssue","newIssue","id","Date","now","toString","screenshot","status","map","issue","editIssue","deleteIssue","issueId","confirm","filter","compressImage","base64","arguments","length","undefined","quality","Promise","resolve","canvas","createElement","ctx","getContext","ratio","drawImage","compressedBase64","toDataURL","exportToReport","html","forEach","index","Blob","type","URL","createObjectURL","a","href","download","toISOString","slice","body","appendChild","removeChild","revokeObjectURL","message","className","children","placeholder","onChange","onKeyPress","key","onClick","backgroundColor","marginLeft","defaultValue","preset","ref","accept","title","color","disabled","fontSize","alignSelf","step","parseFloat","onMouseDown","sandbox","opacity","position","transform","transformOrigin","alt","draggable","objectFit","textAlign","marginTop","_objectSpread"],"sources":["C:/Users/钱阳/ui-inspection-tool-web-en/src/App.js"],"sourcesContent":["import React, { useState, useRef, useCallback } from 'react';\nimport './index.css';\n\nfunction App() {\n  const [url, setUrl] = useState('');\n  const [currentUrl, setCurrentUrl] = useState('');\n  const [designImage, setDesignImage] = useState(null);\n  const [imageOpacity, setImageOpacity] = useState(0.5);\n  const [imageSize, setImageSize] = useState({ width: 400, height: 300 });\n  const [imagePosition, setImagePosition] = useState({ x: 0, y: 0 });\n  const [imageScale, setImageScale] = useState(1);\n  const [imageTransformOrigin, setImageTransformOrigin] = useState('center center');\n  const [isDragging, setIsDragging] = useState(false);\n  const [isResizing, setIsResizing] = useState(false);\n  const [dragStart, setDragStart] = useState(null);\n  const [resizeStart, setResizeStart] = useState(null);\n  const [isSelecting, setIsSelecting] = useState(false);\n  const [selection, setSelection] = useState(null);\n  const [selectionStart, setSelectionStart] = useState(null);\n  const [issues, setIssues] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [modalScreenshot, setModalScreenshot] = useState(null);\n  const [currentIssue, setCurrentIssue] = useState({ description: '', suggestion: '' });\n  const [editingIssueId, setEditingIssueId] = useState(null);\n  const [designSize, setDesignSize] = useState({ width: 1440, height: 900 });\n  const [showScreenshotTip, setShowScreenshotTip] = useState(false);\n\n  const previewRef = useRef();\n  const fileInputRef = useRef();\n  const iframeRef = useRef();\n\n  // Common web design dimensions\n  const designSizePresets = [\n    { name: '1440×900 (Mainstream)', width: 1440, height: 900 },\n    { name: '1920×1080 (Desktop)', width: 1920, height: 1080 },\n    { name: '1366×768 (Laptop)', width: 1366, height: 768 },\n    { name: '1280×720 (Small Screen)', width: 1280, height: 720 },\n    { name: '1600×900 (Widescreen)', width: 1600, height: 900 }\n  ];\n\n  const loadUrl = () => {\n    if (url.trim()) {\n      setCurrentUrl(url.trim());\n    }\n  };\n\n  const clearPage = () => {\n    setUrl('');\n    setCurrentUrl('');\n    setDesignImage(null);\n    setImagePosition({ x: 0, y: 0 });\n    setImageSize({ width: 400, height: 300 });\n    setImageScale(1);\n    setImageTransformOrigin('center center');\n    setSelection(null);\n    setSelectionStart(null);\n    setIsSelecting(false);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n\n\n  // Switch design dimensions\n  const handleDesignSizeChange = (event) => {\n    const selectedIndex = event.target.value;\n    const selectedPreset = designSizePresets[selectedIndex];\n    setDesignSize({ width: selectedPreset.width, height: selectedPreset.height });\n  };\n\n  const handleImageUpload = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      // Check file size (10MB = 10 * 1024 * 1024 bytes)\n      const maxSize = 10 * 1024 * 1024;\n      if (file.size > maxSize) {\n        alert(`Image file too large (${(file.size / 1024 / 1024).toFixed(1)}MB), please select an image smaller than 10MB`);\n        event.target.value = ''; // Clear file selection\n        return;\n      }\n\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const img = new Image();\n        img.onload = () => {\n          setDesignImage(e.target.result);\n          \n          // Set initial dimensions\n          const maxWidth = 500;\n          const maxHeight = 400;\n          let width = img.width;\n          let height = img.height;\n          \n          // If image is too large, scale it down proportionally\n          if (width > maxWidth || height > maxHeight) {\n            const scaleX = maxWidth / width;\n            const scaleY = maxHeight / height;\n            const scale = Math.min(scaleX, scaleY);\n            width = Math.round(width * scale);\n            height = Math.round(height * scale);\n          }\n          \n          setImageSize({ width, height });\n          setImagePosition({ x: 100, y: 100 });\n        };\n        img.src = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const triggerImageUpload = () => {\n    fileInputRef.current.click();\n  };\n\n  const removeDesignImage = () => {\n    setDesignImage(null);\n    setImagePosition({ x: 0, y: 0 });\n    setImageSize({ width: 400, height: 300 });\n    setImageScale(1);\n    setImageTransformOrigin('center center');\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  const handleImageMouseDown = (e) => {\n    // Check if click is on resize handle\n    if (e.target.classList.contains('resize-handle') || \n        e.target.closest('.resize-handle')) {\n      return; // Avoid conflict with resizing\n    }\n    \n    // Ensure clicking on the image itself or image container\n    if (!e.target.classList.contains('design-image') && \n        !e.target.classList.contains('design-overlay')) {\n      return;\n    }\n    \n    e.preventDefault();\n    e.stopPropagation();\n    \n    // Add stricter state checking\n    if (isResizing || isSelecting) {\n      return;\n    }\n    \n    setIsDragging(true);\n    setDragStart({\n      x: e.clientX - imagePosition.x,\n      y: e.clientY - imagePosition.y\n    });\n  };\n\n  const handleResizeMouseDown = (e, direction) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    // Only prevent selection mode, allow switching to resize during dragging\n    if (isSelecting) {\n      return;\n    }\n    \n    // Clean up other states\n    setIsDragging(false);\n    setDragStart(null);\n    setIsResizing(true);\n    \n    // Set transform-origin based on direction\n    let origin = 'center center';\n    switch (direction) {\n      case 'nw': origin = 'bottom right'; break;\n      case 'ne': origin = 'bottom left'; break;\n      case 'sw': origin = 'top right'; break;\n      case 'se': origin = 'top left'; break;\n      case 'n': origin = 'bottom center'; break;\n      case 's': origin = 'top center'; break;\n      case 'w': origin = 'right center'; break;\n      case 'e': origin = 'left center'; break;\n    }\n    setImageTransformOrigin(origin);\n    \n    setResizeStart({\n      x: e.clientX,\n      y: e.clientY,\n      direction: direction,\n      startScale: imageScale\n    });\n  };\n\n  const handleMouseMove = useCallback((e) => {\n    // Handle dragging directly\n    if (isDragging && dragStart) {\n      const newX = e.clientX - dragStart.x;\n      const newY = e.clientY - dragStart.y;\n      setImagePosition({ x: newX, y: newY });\n      return;\n    }\n\n    // Handle selection directly\n    if (isSelecting && selectionStart) {\n      const rect = previewRef.current?.getBoundingClientRect();\n      if (rect) {\n        const currentX = e.clientX - rect.left;\n        const currentY = e.clientY - rect.top;\n        \n        setSelection({\n          left: Math.min(selectionStart.x, currentX),\n          top: Math.min(selectionStart.y, currentY),\n          width: Math.abs(currentX - selectionStart.x),\n          height: Math.abs(currentY - selectionStart.y)\n        });\n      }\n      return;\n    }\n\n\n    // Handle resize using transform scaling\n    if (isResizing && resizeStart) {\n      const deltaX = e.clientX - resizeStart.x;\n      const deltaY = e.clientY - resizeStart.y;\n      \n      // Calculate scale change based on drag direction - improve sensitivity\n      let scaleChange = 0;\n      const sensitivity = 100; // Lower value increases sensitivity\n      \n      switch (resizeStart.direction) {\n        case 'se': // Bottom right - drag down-right to enlarge\n          scaleChange = Math.max(deltaX, deltaY) / sensitivity;\n          break;\n        case 'nw': // Top left - drag up-left to enlarge\n          scaleChange = Math.max(-deltaX, -deltaY) / sensitivity;\n          break;\n        case 'ne': // Top right - drag up-right to enlarge\n          scaleChange = Math.max(deltaX, -deltaY) / sensitivity;\n          break;\n        case 'sw': // Bottom left - drag down-left to enlarge\n          scaleChange = Math.max(-deltaX, deltaY) / sensitivity;\n          break;\n        case 'e': // Right side - drag right to enlarge\n          scaleChange = deltaX / sensitivity;\n          break;\n        case 'w': // Left side - drag left to enlarge\n          scaleChange = -deltaX / sensitivity;\n          break;\n        case 's': // Bottom side - drag down to enlarge\n          scaleChange = deltaY / sensitivity;\n          break;\n        case 'n': // Top side - drag up to enlarge\n          scaleChange = -deltaY / sensitivity;\n          break;\n      }\n      \n      // Calculate new scale value with larger range\n      const newScale = Math.max(0.1, Math.min(10, resizeStart.startScale + scaleChange));\n      setImageScale(newScale);\n    }\n  }, [isDragging, dragStart, isResizing, resizeStart, isSelecting, selectionStart]);\n\n  const handleMouseUp = useCallback(async () => {\n    // Save current state\n    const wasDragging = isDragging;\n    const wasResizing = isResizing;\n    const wasSelecting = isSelecting;\n    \n    // Immediately clean up all states to prevent state residue\n    setIsDragging(false);\n    setIsResizing(false);\n    setDragStart(null);\n    setResizeStart(null);\n    \n    if (wasResizing) {\n      // Reset transform-origin after resizing\n      setTimeout(() => setImageTransformOrigin('center center'), 50);\n    }\n    \n    // No processing after selection completion, wait for user to click button\n    if (wasSelecting && selection && selection.width > 10 && selection.height > 10) {\n      setIsSelecting(false);\n    }\n    \n  }, [isSelecting, selection]);\n\n  React.useEffect(() => {\n    if (isDragging || isResizing || isSelecting) {\n      const handleGlobalMouseMove = (e) => {\n        handleMouseMove(e);\n      };\n      \n      const handleGlobalMouseUp = (e) => {\n        handleMouseUp(e);\n      };\n      \n      // Add global event listeners, including window events\n      document.addEventListener('mousemove', handleGlobalMouseMove);\n      document.addEventListener('mouseup', handleGlobalMouseUp);\n      window.addEventListener('blur', handleGlobalMouseUp); // Clean up when window loses focus\n      document.addEventListener('mouseleave', handleGlobalMouseUp); // Clean up when mouse leaves document\n      \n      return () => {\n        document.removeEventListener('mousemove', handleGlobalMouseMove);\n        document.removeEventListener('mouseup', handleGlobalMouseUp);\n        window.removeEventListener('blur', handleGlobalMouseUp);\n        document.removeEventListener('mouseleave', handleGlobalMouseUp);\n      };\n    }\n  }, [isDragging, isResizing, isSelecting, handleMouseMove, handleMouseUp]);\n\n  // Listen for selection completion, show screenshot tip\n  React.useEffect(() => {\n    if (!isSelecting && selection && selection.width > 10 && selection.height > 10) {\n      // After selection completion, show screenshot tip\n      setShowScreenshotTip(true);\n      // Highlight preview area (red frame stays visible)\n      if (previewRef.current) {\n        previewRef.current.style.boxShadow = '0 0 0 4px #ff0000';\n        previewRef.current.style.transition = 'box-shadow 0.3s ease';\n      }\n      // Don't auto-hide tip, let user take action\n    }\n  }, [isSelecting, selection]);\n\n\n  const startSelection = () => {\n    setIsSelecting(true);\n    setSelection(null);\n  };\n\n  const cancelSelection = () => {\n    setIsSelecting(false);\n    setSelection(null);\n    setSelectionStart(null);\n    // Only remove red frame highlight and tip when clearing selection\n    setShowScreenshotTip(false);\n    if (previewRef.current) {\n      previewRef.current.style.boxShadow = '';\n    }\n  };\n\n  // Close screenshot tip (but keep red frame visible)\n  const closeScreenshotTip = () => {\n    setShowScreenshotTip(false);\n    // Don't remove red frame highlight, keep it visible until user clears selection\n  };\n\n  // Handle clipboard screenshot paste\n  const handlePasteScreenshot = async () => {\n    try {\n      const clipboardItems = await navigator.clipboard.read();\n      \n      for (const item of clipboardItems) {\n        if (item.types.includes('image/png')) {\n          const blob = await item.getType('image/png');\n          const reader = new FileReader();\n          \n          reader.onload = (e) => {\n            setModalScreenshot(e.target.result);\n            // Close tip but keep red frame (frame will be cleared when user clears selection or saves issue)\n            setShowScreenshotTip(false);\n            setShowModal(true);\n          };\n          \n          reader.readAsDataURL(blob);\n          return;\n        }\n      }\n      \n      // If no image found, alert user\n      alert('No image found in clipboard, please take a screenshot first using Win+Shift+S');\n      \n    } catch (error) {\n      console.error('Failed to read clipboard:', error);\n      alert('Unable to access clipboard, please take a screenshot using Win+Shift+S first and retry');\n    }\n  };\n\n  // Start screenshot mode\n  const startScreenshot = () => {\n    setIsSelecting(true);\n    setSelection(null);\n    setSelectionStart(null);\n  };\n\n\n  const handlePreviewMouseDown = (e) => {\n    if (isSelecting) {\n      const rect = previewRef.current.getBoundingClientRect();\n      setSelectionStart({\n        x: e.clientX - rect.left,\n        y: e.clientY - rect.top\n      });\n    }\n  };\n\n\n  const saveIssue = () => {\n    if (currentIssue.description.trim() || currentIssue.suggestion.trim()) {\n      const newIssue = {\n        id: editingIssueId || Date.now().toString(),\n        screenshot: modalScreenshot,\n        description: currentIssue.description,\n        suggestion: currentIssue.suggestion,\n        status: 'Pending'\n      };\n\n      if (editingIssueId) {\n        setIssues(issues.map(issue => \n          issue.id === editingIssueId ? newIssue : issue\n        ));\n      } else {\n        setIssues([...issues, newIssue]);\n      }\n    }\n\n    setShowModal(false);\n    setSelection(null);\n    setSelectionStart(null);\n    setModalScreenshot(null);\n    setCurrentIssue({ description: '', suggestion: '' });\n    setEditingIssueId(null);\n    // Clear red frame highlight after saving issue\n    if (previewRef.current) {\n      previewRef.current.style.boxShadow = '';\n    }\n  };\n\n  const editIssue = (issue) => {\n    setCurrentIssue({\n      description: issue.description,\n      suggestion: issue.suggestion\n    });\n    setModalScreenshot(issue.screenshot);\n    setEditingIssueId(issue.id);\n    setShowModal(true);\n  };\n\n  const deleteIssue = (issueId) => {\n    if (window.confirm('Are you sure you want to delete this issue?')) {\n      setIssues(issues.filter(issue => issue.id !== issueId));\n    }\n  };\n\n  // Compress image to small thumbnail\n  const compressImage = (base64, maxWidth = 150, maxHeight = 100, quality = 0.8) => {\n    return new Promise((resolve) => {\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n      const img = new Image();\n      \n      img.onload = () => {\n        // Calculate compressed dimensions\n        let { width, height } = img;\n        const ratio = Math.min(maxWidth / width, maxHeight / height);\n        width = Math.round(width * ratio);\n        height = Math.round(height * ratio);\n        \n        canvas.width = width;\n        canvas.height = height;\n        \n        // Draw compressed image\n        ctx.drawImage(img, 0, 0, width, height);\n        \n        // Convert to lower quality base64\n        const compressedBase64 = canvas.toDataURL('image/jpeg', quality);\n        resolve(compressedBase64);\n      };\n      \n      img.src = base64;\n    });\n  };\n\n  const exportToReport = () => {\n    if (issues.length === 0) {\n      alert('No issues to export');\n      return;\n    }\n\n    try {\n      // Use original images without compression\n      let html = `\n        <html>\n        <head>\n          <meta charset=\"utf-8\">\n          <style>\n            body { \n              font-family: 'Microsoft YaHei', Arial, sans-serif; \n              margin: 40px;\n              line-height: 1.6;\n            }\n            .issue-item {\n              margin-bottom: 50px;\n              page-break-inside: avoid;\n              border: 1px solid #ddd;\n              border-radius: 8px;\n              padding: 25px;\n              background-color: #fafafa;\n            }\n            .issue-header {\n              background-color: #4472C4;\n              color: white;\n              padding: 18px 25px;\n              margin: -25px -25px 30px -25px;\n              border-radius: 7px 7px 0 0;\n              font-size: 42px;\n              font-weight: bold;\n              text-align: center;\n            }\n            .screenshot {\n              max-width: 600px;\n              height: auto;\n              border: 2px solid #ccc;\n              border-radius: 4px;\n              display: block;\n              margin: 20px auto;\n              box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n            }\n            .info-section {\n              margin-top: 25px;\n              background-color: #f8f9fa;\n              padding: 15px;\n              border-radius: 5px;\n            }\n            .info-label {\n              font-weight: bold;\n              color: #333;\n              margin-bottom: 15px;\n              font-size: 32px;\n            }\n            .info-content {\n              background-color: white;\n              padding: 25px;\n              border: 2px solid #ddd;\n              border-radius: 6px;\n              margin-bottom: 30px;\n              min-height: 80px;\n              font-size: 28px;\n              line-height: 2.0;\n            }\n          </style>\n        </head>\n        <body>\n      `;\n\n      issues.forEach((issue, index) => {\n        const status = issue.status || 'Pending';\n        \n        html += `\n          <div class=\"issue-item\">\n            <div class=\"issue-header\">\n              Issue ${index + 1}\n            </div>\n            \n            <div style=\"text-align: center;\">\n              <img class=\"screenshot\" src=\"${issue.screenshot}\" alt=\"Issue ${index + 1} Screenshot\" />\n            </div>\n            \n            <div class=\"info-section\">\n              <div class=\"info-label\">Issue Description:</div>\n              <div class=\"info-content\">${issue.description || 'No description'}</div>\n              \n              <div class=\"info-label\">Modification Suggestion:</div>\n              <div class=\"info-content\">${issue.suggestion || 'No suggestion'}</div>\n              \n              <div class=\"info-label\">Review Status:</div>\n              <div class=\"info-content\">Pending</div>\n            </div>\n          </div>\n        `;\n      });\n\n      html += `\n        </body>\n        </html>\n      `;\n\n      // Create Blob and download as .doc file (Word-compatible HTML format)\n      const blob = new Blob([html], { \n        type: 'application/msword;charset=utf-8' \n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `UI_Inspection_Report_${new Date().toISOString().slice(0, 10)}.doc`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n\n    } catch (error) {\n      console.error('Export failed:', error);\n      alert('Export failed, please retry: ' + error.message);\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <div className=\"top-bar\">\n        <input\n          type=\"text\"\n          className=\"url-input\"\n          placeholder=\"Please enter the frontend test page URL address...\"\n          value={url}\n          onChange={(e) => setUrl(e.target.value)}\n          onKeyPress={(e) => e.key === 'Enter' && loadUrl()}\n        />\n        <button className=\"load-button\" onClick={loadUrl}>\n          Load Page\n        </button>\n        <button className=\"load-button\" onClick={clearPage} style={{backgroundColor: '#6c757d', marginLeft: '10px'}}>\n          Clear Page\n        </button>\n      </div>\n\n      <div className=\"main-content\">\n        <div className=\"preview-section\">\n          <div className=\"preview-controls\">\n            <div className=\"control-group\">\n              <label>Design Size:</label>\n              <select \n                className=\"design-size-selector\" \n                onChange={handleDesignSizeChange}\n                defaultValue={0}\n              >\n                {designSizePresets.map((preset, index) => (\n                  <option key={index} value={index}>\n                    {preset.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <input\n              type=\"file\"\n              ref={fileInputRef}\n              className=\"file-input\"\n              accept=\".png,.jpg,.jpeg\"\n              onChange={handleImageUpload}\n            />\n            <button \n              className=\"upload-button\" \n              onClick={designImage ? removeDesignImage : triggerImageUpload}\n              style={{backgroundColor: designImage ? '#dc3545' : '#28a745'}}\n              title={designImage ? 'Delete current design image' : 'Supported formats: PNG, JPG, JPEG, max 10MB'}\n            >\n              {designImage ? 'Delete Design' : 'Upload Design'}\n            </button>\n            \n            <button \n              className=\"upload-button\" \n              onClick={() => {\n                if (selection && selection.width > 10) {\n                  // If there's already a selection, clear it (call cancelSelection to ensure red frame highlight is cleared)\n                  cancelSelection();\n                } else if (isSelecting) {\n                  // If selecting but no selection made, cancel selection\n                  cancelSelection();\n                } else {\n                  // Start selection\n                  startSelection();\n                }\n              }}\n              style={{\n                backgroundColor: (selection && selection.width > 10) ? '#6c757d' : isSelecting ? '#dc3545' : '#ffc107', \n                color: (selection && selection.width > 10) ? 'white' : isSelecting ? 'white' : '#212529'\n              }}\n              title={\n                (selection && selection.width > 10) ? 'Clear current selection area' : \n                isSelecting ? 'Cancel selection mode' : \n                'Manual selection of issue area'\n              }\n            >\n              {(selection && selection.width > 10) ? 'Clear Selection' : isSelecting ? 'Cancel Selection' : 'Manual Selection'}\n            </button>\n            \n            <button \n              className=\"ai-review-button\" \n              disabled={true}\n              title=\"Coming Soon\"\n            >\n              🤖 AI Review\n            </button>\n            \n            \n            {isSelecting && !(selection && selection.width > 10) && (\n              <div style={{fontSize: '12px', color: '#666', marginLeft: '10px', alignSelf: 'center'}}>\n                Please drag to select issue area\n              </div>\n            )}\n            \n            \n            \n            \n            {designImage && (\n                <div className=\"control-group\">\n                  <label>Transparency:</label>\n                  <input\n                    type=\"range\"\n                    className=\"control-slider\"\n                    min=\"0\"\n                    max=\"1\"\n                    step=\"0.1\"\n                    value={imageOpacity}\n                    onChange={(e) => setImageOpacity(parseFloat(e.target.value))}\n                  />\n                  <span>{Math.round((1 - imageOpacity) * 100)}%</span>\n                </div>\n            )}\n          </div>\n\n\n          <div \n            className=\"preview-container\" \n            id=\"previewArea\"\n            ref={previewRef}\n            onMouseDown={handlePreviewMouseDown}\n          >\n            <div \n              className=\"iframe-wrapper\"\n              id=\"frameWrapper\"\n              style={{\n                width: designSize.width,\n                height: designSize.height\n              }}\n            >\n              {currentUrl ? (\n                <iframe\n                  ref={iframeRef}\n                  className=\"preview-iframe\"\n                  src={currentUrl}\n                  title=\"Web Preview\"\n                  sandbox=\"allow-same-origin allow-scripts allow-forms\"\n                  style={{\n                    width: designSize.width,\n                    height: designSize.height\n                  }}\n                />\n              ) : (\n                <div className=\"empty-preview-placeholder\">\n                  <div className=\"placeholder-content\">\n                    <h3>Welcome to UI Inspection Tool</h3>\n                    <p>Please paste the frontend test page URL in the input box above</p>\n                    <p className=\"placeholder-example\">Supports: http://localhost:3000, dev environment IPs, test environment domains, etc.</p>\n                    <div className=\"placeholder-steps\">\n                      <div className=\"step\">1. Enter frontend page URL</div>\n                      <div className=\"step\">2. Click \"Load Page\"</div>\n                      <div className=\"step\">3. Upload design image for comparison</div>\n                      <div className=\"step\">4. Use \"Manual Selection\" to mark issues</div>\n                      <div className=\"step\">5. Take screenshot and annotate issues</div>\n                      <div className=\"step\">6. Export report</div>\n                    </div>\n                    <div className=\"placeholder-notice\">\n                      <p>Note: This tool does not save user history records, but supports exporting inspection reports</p>\n                    </div>\n                  </div>\n                </div>\n              )}\n              \n              {designImage && (\n              <div\n                className={`design-overlay ${isDragging ? 'dragging' : ''} ${isResizing ? 'resizing' : ''}`}\n                style={{\n                  left: imagePosition.x,\n                  top: imagePosition.y,\n                  width: imageSize.width,\n                  height: imageSize.height,\n                  opacity: imageOpacity,\n                  position: 'absolute',\n                  transform: `scale(${imageScale})`,\n                  transformOrigin: imageTransformOrigin,\n                  transition: isResizing ? 'none' : 'transform 0.1s ease'\n                }}\n                onMouseDown={handleImageMouseDown}\n              >\n                <img\n                  className=\"design-image\"\n                  src={designImage}\n                  alt=\"Design Image\"\n                  draggable={false}\n                  style={{ \n                    width: '100%',\n                    height: '100%',\n                    objectFit: 'contain'\n                  }}\n                />\n                \n                {/* 8 resize control handles */}\n                <div className=\"resize-handle nw\" onMouseDown={(e) => handleResizeMouseDown(e, 'nw')} title=\"Drag to resize\" />\n                <div className=\"resize-handle n\" onMouseDown={(e) => handleResizeMouseDown(e, 'n')} title=\"Drag to resize\" />\n                <div className=\"resize-handle ne\" onMouseDown={(e) => handleResizeMouseDown(e, 'ne')} title=\"Drag to resize\" />\n                <div className=\"resize-handle e\" onMouseDown={(e) => handleResizeMouseDown(e, 'e')} title=\"Drag to resize\" />\n                <div className=\"resize-handle se\" onMouseDown={(e) => handleResizeMouseDown(e, 'se')} title=\"Drag to resize\" />\n                <div className=\"resize-handle s\" onMouseDown={(e) => handleResizeMouseDown(e, 's')} title=\"Drag to resize\" />\n                <div className=\"resize-handle sw\" onMouseDown={(e) => handleResizeMouseDown(e, 'sw')} title=\"Drag to resize\" />\n                <div className=\"resize-handle w\" onMouseDown={(e) => handleResizeMouseDown(e, 'w')} title=\"Drag to resize\" />\n              </div>\n            )}\n\n            <div className={`selection-overlay ${isSelecting ? 'selecting' : ''}`}>\n              {selection && (\n                <div\n                  className=\"selection-box\"\n                  style={{\n                    left: selection.left,\n                    top: selection.top,\n                    width: selection.width,\n                    height: selection.height\n                  }}\n                />\n              )}\n            </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"issues-panel\">\n          <div className=\"issues-header\">\n            <h3 className=\"issues-title\">Issue List ({issues.length})</h3>\n            <button className=\"export-button\" onClick={exportToReport} disabled={issues.length === 0}>\n              Export Inspection Report\n            </button>\n          </div>\n          \n          <div className=\"issues-list\">\n            {/* Show paste screenshot button after user completes selection */}\n            {selection && selection.width > 10 && (\n              <div className=\"paste-screenshot-section\">\n                <div className=\"paste-instruction\">\n                  <span>📸 Please take screenshot within the red frame area (Win+Shift+S), then click button below to paste</span>\n                </div>\n                <button className=\"paste-screenshot-button\" onClick={handlePasteScreenshot}>\n                  📋 Paste Screenshot\n                </button>\n              </div>\n            )}\n            \n            {issues.length === 0 ? (\n              <div style={{ textAlign: 'center', color: '#666', marginTop: '50px' }}>\n                No issues recorded yet\n                <br />\n                <small>After uploading design image, click \"Manual Selection\" to mark issue areas</small>\n              </div>\n            ) : (\n              issues.map((issue) => (\n                <div key={issue.id} className=\"issue-item\">\n                  <img\n                    className=\"issue-screenshot\"\n                    src={issue.screenshot}\n                    alt=\"Issue Screenshot\"\n                  />\n                  <div className=\"issue-description\">\n                    <div className=\"issue-label\">Issue Description:</div>\n                    <div className=\"issue-text\">{issue.description || 'No description'}</div>\n                  </div>\n                  <div className=\"issue-suggestion\">\n                    <div className=\"issue-label\">Modification Suggestion:</div>\n                    <div className=\"issue-text\">{issue.suggestion || 'No suggestion'}</div>\n                  </div>\n                  <div className=\"issue-actions\">\n                    <button className=\"edit-button\" onClick={() => editIssue(issue)}>\n                      Edit\n                    </button>\n                    <button className=\"delete-button\" onClick={() => deleteIssue(issue.id)}>\n                      Delete\n                    </button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      </div>\n\n      {showScreenshotTip && (\n        <div className=\"screenshot-tip\">\n          <div className=\"tip-content\">\n            <span className=\"tip-text\">\n              📸 You can take screenshot within the red frame area, please use Win+Shift+S, after screenshot is complete, click \"Paste Screenshot\" in the issue list\n            </span>\n            <button className=\"tip-close\" onClick={closeScreenshotTip}>×</button>\n          </div>\n        </div>\n      )}\n\n      {showModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <h3 className=\"modal-title\">\n              {editingIssueId ? 'Edit Issue' : 'Add Issue'}\n            </h3>\n            \n            <img\n              className=\"modal-screenshot\"\n              src={modalScreenshot}\n              alt=\"Screenshot\"\n            />\n\n            <div className=\"form-group\">\n              <label className=\"form-label\">Issue Description</label>\n              <textarea\n                className=\"form-textarea\"\n                value={currentIssue.description}\n                onChange={(e) => setCurrentIssue({...currentIssue, description: e.target.value})}\n                placeholder=\"Please describe the specific issue, e.g.: Button position 5px too left, title font size inconsistent, background color doesn't match design, etc.\"\n              />\n              <div className=\"form-placeholder\">\n                Tip: Please describe the issue in detail, including specific information about position, size, color, etc.\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <label className=\"form-label\">Modification Suggestion</label>\n              <textarea\n                className=\"form-textarea\"\n                value={currentIssue.suggestion}\n                onChange={(e) => setCurrentIssue({...currentIssue, suggestion: e.target.value})}\n                placeholder=\"Please provide precise modification values, e.g.: Move button 5px to the right, change font size to 16px, change color to #1890FF, change line-height to 1.5, etc.\"\n              />\n              <div className=\"form-placeholder\">\n                Tip: Please provide specific pixel values, color values, font sizes and other precise values for developers to modify directly\n              </div>\n            </div>\n\n            <div className=\"modal-actions\">\n              <button \n                className=\"modal-button secondary\" \n                onClick={() => {\n                  setShowModal(false);\n                  setSelection(null);\n                  setSelectionStart(null);\n                  setCurrentIssue({ description: '', suggestion: '' });\n                  setEditingIssueId(null);\n                  // Also clear red frame highlight when canceling\n                  if (previewRef.current) {\n                    previewRef.current.style.boxShadow = '';\n                  }\n                }}\n              >\n                Cancel\n              </button>\n              <button className=\"modal-button primary\" onClick={saveIssue}>\n                {editingIssueId ? 'Save Changes' : 'Add Issue'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}